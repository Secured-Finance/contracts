{
  "address": "0x5b1D14Efb6271d1a8DAdeF39b4Fa6676e74BD0A2",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "enum ProtocolTypes.Side",
          "name": "_side",
          "type": "ProtocolTypes.Side"
        },
        {
          "internalType": "uint256",
          "name": "_futureValue",
          "type": "uint256"
        }
      ],
      "name": "estimateFilledAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getActiveBorrowOrderIds",
      "outputs": [
        {
          "internalType": "uint48[]",
          "name": "activeOrderIds",
          "type": "uint48[]"
        },
        {
          "internalType": "uint48[]",
          "name": "inActiveOrderIds",
          "type": "uint48[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getActiveLendOrderIds",
      "outputs": [
        {
          "internalType": "uint48[]",
          "name": "activeOrderIds",
          "type": "uint48[]"
        },
        {
          "internalType": "uint48[]",
          "name": "inActiveOrderIds",
          "type": "uint48[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_limit",
          "type": "uint256"
        }
      ],
      "name": "getBorrowOrderBook",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "unitPrices",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "quantities",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getHighestLendingUnitPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_limit",
          "type": "uint256"
        }
      ],
      "name": "getLendOrderBook",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "unitPrices",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "quantities",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLowestBorrowingUnitPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getOpeningUnitPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "openingUnitPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalOffsetAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint48",
          "name": "_orderId",
          "type": "uint48"
        }
      ],
      "name": "getOrder",
      "outputs": [
        {
          "internalType": "enum ProtocolTypes.Side",
          "name": "side",
          "type": "ProtocolTypes.Side"
        },
        {
          "internalType": "uint256",
          "name": "unitPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maturity",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "maker",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getTotalAmountFromBorrowOrders",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "activeAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inactiveAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inactiveFutureValue",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maturity",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getTotalAmountFromLendOrders",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "activeAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inactiveAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inactiveFutureValue",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maturity",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xf1eaf0b36a7028cd5f87c678e96f8a63c694484b2051061d14ffa01f09caab7d",
  "receipt": {
    "to": null,
    "from": "0xDBA767F3DFF3835BEf5dE1eDEe91A9901402AB21",
    "contractAddress": "0x5b1D14Efb6271d1a8DAdeF39b4Fa6676e74BD0A2",
    "transactionIndex": 34,
    "gasUsed": "4661042",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x7df4789d9b09bd84899ac132ff6d1bbb172decef8b4bbfba0482403072b8b28b",
    "transactionHash": "0xf1eaf0b36a7028cd5f87c678e96f8a63c694484b2051061d14ffa01f09caab7d",
    "logs": [],
    "blockNumber": 8690418,
    "cumulativeGasUsed": "10900892",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 4,
  "solcInputHash": "a58832c4d44af4e2e79c8873b8be9904",
  "metadata": "{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"enum ProtocolTypes.Side\",\"name\":\"_side\",\"type\":\"ProtocolTypes.Side\"},{\"internalType\":\"uint256\",\"name\":\"_futureValue\",\"type\":\"uint256\"}],\"name\":\"estimateFilledAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getActiveBorrowOrderIds\",\"outputs\":[{\"internalType\":\"uint48[]\",\"name\":\"activeOrderIds\",\"type\":\"uint48[]\"},{\"internalType\":\"uint48[]\",\"name\":\"inActiveOrderIds\",\"type\":\"uint48[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getActiveLendOrderIds\",\"outputs\":[{\"internalType\":\"uint48[]\",\"name\":\"activeOrderIds\",\"type\":\"uint48[]\"},{\"internalType\":\"uint48[]\",\"name\":\"inActiveOrderIds\",\"type\":\"uint48[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_limit\",\"type\":\"uint256\"}],\"name\":\"getBorrowOrderBook\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"unitPrices\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"quantities\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getHighestLendingUnitPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_limit\",\"type\":\"uint256\"}],\"name\":\"getLendOrderBook\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"unitPrices\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"quantities\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLowestBorrowingUnitPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getOpeningUnitPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"openingUnitPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalOffsetAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint48\",\"name\":\"_orderId\",\"type\":\"uint48\"}],\"name\":\"getOrder\",\"outputs\":[{\"internalType\":\"enum ProtocolTypes.Side\",\"name\":\"side\",\"type\":\"ProtocolTypes.Side\"},{\"internalType\":\"uint256\",\"name\":\"unitPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maturity\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"maker\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getTotalAmountFromBorrowOrders\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"activeAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"inactiveAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"inactiveFutureValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maturity\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getTotalAmountFromLendOrders\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"activeAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"inactiveAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"inactiveFutureValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maturity\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/libraries/logics/OrderBookLogic.sol\":\"OrderBookLogic\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/interfaces/ILendingMarket.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.9;\\n\\nimport \\\"../types/ProtocolTypes.sol\\\";\\nimport {MarketOrder} from \\\"../storages/LendingMarketStorage.sol\\\";\\n\\ninterface ILendingMarket {\\n    event OrderCanceled(\\n        uint48 orderId,\\n        address indexed maker,\\n        ProtocolTypes.Side side,\\n        bytes32 ccy,\\n        uint256 maturity,\\n        uint256 amount,\\n        uint256 unitPrice\\n    );\\n    event OrderMade(\\n        uint48 orderId,\\n        uint48 originalOrderId,\\n        address indexed maker,\\n        ProtocolTypes.Side side,\\n        bytes32 ccy,\\n        uint256 maturity,\\n        uint256 amount,\\n        uint256 unitPrice\\n    );\\n    event OrdersTaken(\\n        address indexed taker,\\n        ProtocolTypes.Side side,\\n        bytes32 ccy,\\n        uint256 maturity,\\n        uint256 filledAmount,\\n        uint256 unitPrice,\\n        uint256 filledFutureValue\\n    );\\n\\n    event OrdersCleaned(\\n        uint48[] orderIds,\\n        address indexed maker,\\n        ProtocolTypes.Side side,\\n        bytes32 indexed ccy,\\n        uint256 maturity\\n    );\\n\\n    event MarketOpened(uint256 maturity, uint256 prevMaturity);\\n\\n    event ItayoseExecuted(bytes32 ccy, uint256 maturity, uint256 openingPrice);\\n\\n    struct Market {\\n        bytes32 ccy;\\n        uint256 maturity;\\n        uint256 openingDate;\\n        uint256 borrowUnitPrice;\\n        uint256 lendUnitPrice;\\n        uint256 midUnitPrice;\\n    }\\n\\n    function getMarket() external view returns (Market memory);\\n\\n    function getBorrowUnitPrice() external view returns (uint256 unitPrice);\\n\\n    function getLendUnitPrice() external view returns (uint256 unitPrice);\\n\\n    function getMidUnitPrice() external view returns (uint256 unitPrice);\\n\\n    function getBorrowOrderBook(uint256 limit)\\n        external\\n        view\\n        returns (\\n            uint256[] memory unitPrices,\\n            uint256[] memory amounts,\\n            uint256[] memory quantities\\n        );\\n\\n    function getLendOrderBook(uint256 limit)\\n        external\\n        view\\n        returns (\\n            uint256[] memory unitPrices,\\n            uint256[] memory amounts,\\n            uint256[] memory quantities\\n        );\\n\\n    function getMaturity() external view returns (uint256);\\n\\n    function getCurrency() external view returns (bytes32);\\n\\n    function getOpeningDate() external view returns (uint256);\\n\\n    function isItayosePeriod() external view returns (bool);\\n\\n    function getOpeningUnitPrice() external view returns (uint256);\\n\\n    function isMatured() external view returns (bool);\\n\\n    function isOpened() external view returns (bool);\\n\\n    function isPreOrderPeriod() external returns (bool);\\n\\n    function getOrder(uint48 _orderId)\\n        external\\n        view\\n        returns (\\n            ProtocolTypes.Side,\\n            uint256 unitPrice,\\n            uint256 maturity,\\n            address maker,\\n            uint256 amount,\\n            uint256 timestamp\\n        );\\n\\n    function getTotalAmountFromLendOrders(address _user)\\n        external\\n        view\\n        returns (\\n            uint256 activeAmount,\\n            uint256 inactiveAmount,\\n            uint256 inactiveFutureValue,\\n            uint256 maturity\\n        );\\n\\n    function getTotalAmountFromBorrowOrders(address _user)\\n        external\\n        view\\n        returns (\\n            uint256 activeAmount,\\n            uint256 inactiveAmount,\\n            uint256 inactiveFutureValue,\\n            uint256 maturity\\n        );\\n\\n    function getActiveLendOrderIds(address _user)\\n        external\\n        view\\n        returns (uint48[] memory activeOrderIds);\\n\\n    function getActiveBorrowOrderIds(address _user)\\n        external\\n        view\\n        returns (uint48[] memory activeOrderIds);\\n\\n    function estimateFilledAmount(ProtocolTypes.Side _side, uint256 _futureValue)\\n        external\\n        view\\n        returns (uint256 amount);\\n\\n    function openMarket(uint256 maturity, uint256 openingDate) external returns (uint256);\\n\\n    function cancelOrder(address user, uint48 orderId)\\n        external\\n        returns (\\n            ProtocolTypes.Side,\\n            uint256,\\n            uint256\\n        );\\n\\n    function createPreOrder(\\n        ProtocolTypes.Side side,\\n        address user,\\n        uint256 amount,\\n        uint256 unitPrice\\n    ) external;\\n\\n    function unwindOrder(\\n        ProtocolTypes.Side _side,\\n        address _user,\\n        uint256 _futureValue\\n    )\\n        external\\n        returns (\\n            uint256 filledUnitPrice,\\n            uint256 filledAmount,\\n            uint256 filledFutureValue\\n        );\\n\\n    function executeItayoseCall() external returns (uint256 openingUnitPrice);\\n\\n    function cleanOrders(address _user)\\n        external\\n        returns (\\n            uint256 activeLendOrderCount,\\n            uint256 activeBorrowOrderCount,\\n            uint256 removedLendOrderFutureValue,\\n            uint256 removedBorrowOrderFutureValue,\\n            uint256 removedLendOrderAmount,\\n            uint256 removedBorrowOrderAmount,\\n            uint256 maturity\\n        );\\n\\n    function createOrder(\\n        ProtocolTypes.Side side,\\n        address account,\\n        uint256 amount,\\n        uint256 unitPrice,\\n        bool ignoreRemainingAmount\\n    )\\n        external\\n        returns (\\n            uint256 filledUnitPrice,\\n            uint256 filledFutureValue,\\n            uint256 remainingAmount\\n        );\\n\\n    function pauseMarket() external;\\n\\n    function unpauseMarket() external;\\n}\\n\",\"keccak256\":\"0x29b07c3c9c347622717cda1e394fa400f606b272b004362f8c45ab0f6ce1b0b9\",\"license\":\"MIT\"},\"contracts/libraries/OrderStatisticsTreeLib.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.9;\\n\\n// types\\nimport {ProtocolTypes} from \\\"../types/ProtocolTypes.sol\\\";\\nimport {RoundingUint256} from \\\"./math/RoundingUint256.sol\\\";\\n\\nstruct RemainingOrder {\\n    uint48 orderId;\\n    address maker;\\n    uint256 amount;\\n    uint256 unitPrice;\\n}\\n\\nstruct OrderItem {\\n    uint48 orderId;\\n    uint48 next;\\n    uint48 prev;\\n    address maker;\\n    uint256 timestamp;\\n    uint256 amount;\\n}\\n\\n/**\\n * @notice OrderStatisticsTreeLib is a Red-Black Tree binary search library\\n * based on the following library that is extended to manage order data.\\n *\\n * https://github.com/rob-Hitchens/OrderStatisticsTree\\n *\\n */\\nlibrary OrderStatisticsTreeLib {\\n    using RoundingUint256 for uint256;\\n    uint256 private constant EMPTY = 0;\\n\\n    struct Node {\\n        uint256 parent;\\n        uint256 left;\\n        uint256 right;\\n        bool red;\\n        uint48 head;\\n        uint48 tail;\\n        uint256 orderCounter;\\n        uint256 orderTotalAmount;\\n        mapping(uint256 => OrderItem) orders;\\n    }\\n\\n    struct Tree {\\n        uint256 root;\\n        mapping(uint256 => Node) nodes;\\n    }\\n\\n    function first(Tree storage self) internal view returns (uint256 _value) {\\n        _value = self.root;\\n        if (_value == EMPTY) return 0;\\n        while (self.nodes[_value].left != EMPTY) {\\n            _value = self.nodes[_value].left;\\n        }\\n    }\\n\\n    function last(Tree storage self) internal view returns (uint256 _value) {\\n        _value = self.root;\\n        if (_value == EMPTY) return 0;\\n        while (self.nodes[_value].right != EMPTY) {\\n            _value = self.nodes[_value].right;\\n        }\\n    }\\n\\n    function next(Tree storage self, uint256 value) internal view returns (uint256 _cursor) {\\n        require(value != EMPTY, \\\"OrderStatisticsTree(401) - Starting value cannot be zero\\\");\\n        if (self.nodes[value].right != EMPTY) {\\n            _cursor = treeMinimum(self, self.nodes[value].right);\\n        } else {\\n            _cursor = self.nodes[value].parent;\\n            while (_cursor != EMPTY && value == self.nodes[_cursor].right) {\\n                value = _cursor;\\n                _cursor = self.nodes[_cursor].parent;\\n            }\\n        }\\n    }\\n\\n    function prev(Tree storage self, uint256 value) internal view returns (uint256 _cursor) {\\n        require(value != EMPTY, \\\"OrderStatisticsTree(402) - Starting value cannot be zero\\\");\\n        if (self.nodes[value].left != EMPTY) {\\n            _cursor = treeMaximum(self, self.nodes[value].left);\\n        } else {\\n            _cursor = self.nodes[value].parent;\\n            while (_cursor != EMPTY && value == self.nodes[_cursor].left) {\\n                value = _cursor;\\n                _cursor = self.nodes[_cursor].parent;\\n            }\\n        }\\n    }\\n\\n    function exists(Tree storage self, uint256 value) internal view returns (bool _exists) {\\n        if (value == EMPTY) return false;\\n        if (value == self.root) return true;\\n        // if (self.nodes[value].parent != EMPTY) return true;\\n        uint256 cursor = value;\\n        while (self.nodes[cursor].parent != EMPTY) {\\n            uint256 parent = self.nodes[cursor].parent;\\n            if (self.nodes[parent].left != cursor && self.nodes[parent].right != cursor) {\\n                return false;\\n            }\\n            if (parent == self.root) {\\n                return true;\\n            }\\n            cursor = self.nodes[cursor].parent;\\n        }\\n        return false;\\n    }\\n\\n    function isActiveOrderId(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal view returns (bool) {\\n        return orderIdExists(self, value, orderId) && exists(self, value);\\n    }\\n\\n    function getNode(Tree storage self, uint256 value)\\n        internal\\n        view\\n        returns (\\n            uint256,\\n            uint256,\\n            uint256,\\n            bool,\\n            uint256,\\n            uint256,\\n            uint256,\\n            uint256\\n        )\\n    {\\n        require(exists(self, value), \\\"OrderStatisticsTree(403) - Value does not exist.\\\");\\n        Node storage gn = self.nodes[value];\\n        return (\\n            gn.parent,\\n            gn.left,\\n            gn.right,\\n            gn.red,\\n            gn.head,\\n            gn.tail,\\n            gn.orderCounter,\\n            gn.orderTotalAmount\\n        );\\n    }\\n\\n    function getNodeCount(Tree storage self, uint256 value) internal view returns (uint256) {\\n        Node storage gn = self.nodes[value];\\n        return gn.orderCounter;\\n    }\\n\\n    function getNodeTotalAmount(Tree storage self, uint256 value)\\n        internal\\n        view\\n        returns (uint256 totalAmount)\\n    {\\n        return self.nodes[value].orderTotalAmount;\\n    }\\n\\n    function getNodeOrderIds(Tree storage self, uint256 value)\\n        internal\\n        view\\n        returns (uint48[] memory orderIds)\\n    {\\n        Node storage gn = self.nodes[value];\\n        OrderItem memory order = gn.orders[gn.head];\\n        orderIds = new uint48[](gn.orderCounter);\\n\\n        for (uint256 i = 0; i < gn.orderCounter; i++) {\\n            orderIds[i] = order.orderId;\\n            order = gn.orders[order.next];\\n        }\\n    }\\n\\n    function count(Tree storage self) internal view returns (uint256 _count) {\\n        return getNodeCount(self, self.root);\\n    }\\n\\n    function insert(Tree storage self, uint256 value) internal {\\n        require(value != EMPTY, \\\"OrderStatisticsTree(405) - Value to insert cannot be zero\\\");\\n        uint256 cursor;\\n        uint256 probe = self.root;\\n        while (probe != EMPTY) {\\n            cursor = probe;\\n            if (value < probe) {\\n                probe = self.nodes[probe].left;\\n            } else if (value > probe) {\\n                probe = self.nodes[probe].right;\\n            } else if (value == probe) {\\n                return;\\n            }\\n        }\\n\\n        Node storage nValue = self.nodes[value];\\n        // Update order info as a new one if there is already an old node\\n        if (\\n            self.root == EMPTY ||\\n            (self.nodes[cursor].left != value && self.nodes[cursor].right != value)\\n        ) {\\n            nValue.orderCounter = 0;\\n            nValue.orderTotalAmount = 0;\\n            _setHead(self, value, 0);\\n            _setTail(self, value, 0);\\n        }\\n        nValue.parent = cursor;\\n        nValue.left = EMPTY;\\n        nValue.right = EMPTY;\\n        nValue.red = true;\\n\\n        if (cursor == EMPTY) {\\n            self.root = value;\\n        } else if (value < cursor) {\\n            self.nodes[cursor].left = value;\\n        } else {\\n            self.nodes[cursor].right = value;\\n        }\\n        insertFixup(self, value);\\n    }\\n\\n    function remove(Tree storage self, uint256 value) internal {\\n        require(value != EMPTY, \\\"OrderStatisticsTree(407) - Value to delete cannot be zero\\\");\\n        Node storage nValue = self.nodes[value];\\n        uint256 probe;\\n        uint256 cursor;\\n        if (nValue.orderCounter == 0) {\\n            if (self.nodes[value].left == EMPTY || self.nodes[value].right == EMPTY) {\\n                cursor = value;\\n            } else {\\n                cursor = self.nodes[value].right;\\n                while (self.nodes[cursor].left != EMPTY) {\\n                    cursor = self.nodes[cursor].left;\\n                }\\n            }\\n            if (self.nodes[cursor].left != EMPTY) {\\n                probe = self.nodes[cursor].left;\\n            } else {\\n                probe = self.nodes[cursor].right;\\n            }\\n            uint256 cursorParent = self.nodes[cursor].parent;\\n            self.nodes[probe].parent = cursorParent;\\n            if (cursorParent != EMPTY) {\\n                if (cursor == self.nodes[cursorParent].left) {\\n                    self.nodes[cursorParent].left = probe;\\n                } else {\\n                    self.nodes[cursorParent].right = probe;\\n                }\\n            } else {\\n                self.root = probe;\\n            }\\n            bool doFixup = !self.nodes[cursor].red;\\n            if (cursor != value) {\\n                replaceParent(self, cursor, value);\\n                self.nodes[cursor].left = self.nodes[value].left;\\n                self.nodes[self.nodes[cursor].left].parent = cursor;\\n                self.nodes[cursor].right = self.nodes[value].right;\\n                self.nodes[self.nodes[cursor].right].parent = cursor;\\n                self.nodes[cursor].red = self.nodes[value].red;\\n                (cursor, value) = (value, cursor);\\n            }\\n            if (doFixup) {\\n                removeFixup(self, probe);\\n            }\\n            delete self.nodes[cursor];\\n        }\\n    }\\n\\n    function treeMinimum(Tree storage self, uint256 value) private view returns (uint256) {\\n        while (self.nodes[value].left != EMPTY) {\\n            value = self.nodes[value].left;\\n        }\\n        return value;\\n    }\\n\\n    function treeMaximum(Tree storage self, uint256 value) private view returns (uint256) {\\n        while (self.nodes[value].right != EMPTY) {\\n            value = self.nodes[value].right;\\n        }\\n        return value;\\n    }\\n\\n    function rotateLeft(Tree storage self, uint256 value) private {\\n        uint256 cursor = self.nodes[value].right;\\n        uint256 parent = self.nodes[value].parent;\\n        uint256 cursorLeft = self.nodes[cursor].left;\\n        self.nodes[value].right = cursorLeft;\\n        if (cursorLeft != EMPTY) {\\n            self.nodes[cursorLeft].parent = value;\\n        }\\n        self.nodes[cursor].parent = parent;\\n        if (parent == EMPTY) {\\n            self.root = cursor;\\n        } else if (value == self.nodes[parent].left) {\\n            self.nodes[parent].left = cursor;\\n        } else {\\n            self.nodes[parent].right = cursor;\\n        }\\n        self.nodes[cursor].left = value;\\n        self.nodes[value].parent = cursor;\\n    }\\n\\n    function rotateRight(Tree storage self, uint256 value) private {\\n        uint256 cursor = self.nodes[value].left;\\n        uint256 parent = self.nodes[value].parent;\\n        uint256 cursorRight = self.nodes[cursor].right;\\n        self.nodes[value].left = cursorRight;\\n        if (cursorRight != EMPTY) {\\n            self.nodes[cursorRight].parent = value;\\n        }\\n        self.nodes[cursor].parent = parent;\\n        if (parent == EMPTY) {\\n            self.root = cursor;\\n        } else if (value == self.nodes[parent].right) {\\n            self.nodes[parent].right = cursor;\\n        } else {\\n            self.nodes[parent].left = cursor;\\n        }\\n        self.nodes[cursor].right = value;\\n        self.nodes[value].parent = cursor;\\n    }\\n\\n    function insertFixup(Tree storage self, uint256 value) private {\\n        uint256 cursor;\\n        while (value != self.root && self.nodes[self.nodes[value].parent].red) {\\n            uint256 valueParent = self.nodes[value].parent;\\n            if (valueParent == self.nodes[self.nodes[valueParent].parent].left) {\\n                cursor = self.nodes[self.nodes[valueParent].parent].right;\\n                if (self.nodes[cursor].red) {\\n                    self.nodes[valueParent].red = false;\\n                    self.nodes[cursor].red = false;\\n                    self.nodes[self.nodes[valueParent].parent].red = true;\\n                    value = self.nodes[valueParent].parent;\\n                } else {\\n                    if (value == self.nodes[valueParent].right) {\\n                        value = valueParent;\\n                        rotateLeft(self, value);\\n                    }\\n                    valueParent = self.nodes[value].parent;\\n                    self.nodes[valueParent].red = false;\\n                    self.nodes[self.nodes[valueParent].parent].red = true;\\n                    rotateRight(self, self.nodes[valueParent].parent);\\n                }\\n            } else {\\n                cursor = self.nodes[self.nodes[valueParent].parent].left;\\n                if (self.nodes[cursor].red) {\\n                    self.nodes[valueParent].red = false;\\n                    self.nodes[cursor].red = false;\\n                    self.nodes[self.nodes[valueParent].parent].red = true;\\n                    value = self.nodes[valueParent].parent;\\n                } else {\\n                    if (value == self.nodes[valueParent].left) {\\n                        value = valueParent;\\n                        rotateRight(self, value);\\n                    }\\n                    valueParent = self.nodes[value].parent;\\n                    self.nodes[valueParent].red = false;\\n                    self.nodes[self.nodes[valueParent].parent].red = true;\\n                    rotateLeft(self, self.nodes[valueParent].parent);\\n                }\\n            }\\n        }\\n        self.nodes[self.root].red = false;\\n    }\\n\\n    function replaceParent(\\n        Tree storage self,\\n        uint256 a,\\n        uint256 b\\n    ) private {\\n        uint256 bParent = self.nodes[b].parent;\\n        self.nodes[a].parent = bParent;\\n        if (bParent == EMPTY) {\\n            self.root = a;\\n        } else {\\n            if (b == self.nodes[bParent].left) {\\n                self.nodes[bParent].left = a;\\n            } else {\\n                self.nodes[bParent].right = a;\\n            }\\n        }\\n    }\\n\\n    function removeFixup(Tree storage self, uint256 value) private {\\n        uint256 cursor;\\n        while (value != self.root && !self.nodes[value].red) {\\n            uint256 valueParent = self.nodes[value].parent;\\n            if (value == self.nodes[valueParent].left) {\\n                cursor = self.nodes[valueParent].right;\\n                if (self.nodes[cursor].red) {\\n                    self.nodes[cursor].red = false;\\n                    self.nodes[valueParent].red = true;\\n                    rotateLeft(self, valueParent);\\n                    cursor = self.nodes[valueParent].right;\\n                }\\n                if (\\n                    !self.nodes[self.nodes[cursor].left].red &&\\n                    !self.nodes[self.nodes[cursor].right].red\\n                ) {\\n                    self.nodes[cursor].red = true;\\n                    value = valueParent;\\n                } else {\\n                    if (!self.nodes[self.nodes[cursor].right].red) {\\n                        self.nodes[self.nodes[cursor].left].red = false;\\n                        self.nodes[cursor].red = true;\\n                        rotateRight(self, cursor);\\n                        cursor = self.nodes[valueParent].right;\\n                    }\\n                    self.nodes[cursor].red = self.nodes[valueParent].red;\\n                    self.nodes[valueParent].red = false;\\n                    self.nodes[self.nodes[cursor].right].red = false;\\n                    rotateLeft(self, valueParent);\\n                    value = self.root;\\n                }\\n            } else {\\n                cursor = self.nodes[valueParent].left;\\n                if (self.nodes[cursor].red) {\\n                    self.nodes[cursor].red = false;\\n                    self.nodes[valueParent].red = true;\\n                    rotateRight(self, valueParent);\\n                    cursor = self.nodes[valueParent].left;\\n                }\\n                if (\\n                    !self.nodes[self.nodes[cursor].right].red &&\\n                    !self.nodes[self.nodes[cursor].left].red\\n                ) {\\n                    self.nodes[cursor].red = true;\\n                    value = valueParent;\\n                } else {\\n                    if (!self.nodes[self.nodes[cursor].left].red) {\\n                        self.nodes[self.nodes[cursor].right].red = false;\\n                        self.nodes[cursor].red = true;\\n                        rotateLeft(self, cursor);\\n                        cursor = self.nodes[valueParent].left;\\n                    }\\n                    self.nodes[cursor].red = self.nodes[valueParent].red;\\n                    self.nodes[valueParent].red = false;\\n                    self.nodes[self.nodes[cursor].left].red = false;\\n                    rotateRight(self, valueParent);\\n                    value = self.root;\\n                }\\n            }\\n        }\\n        self.nodes[value].red = false;\\n    }\\n\\n    function estimateDroppedAmountFromLeft(Tree storage self, uint256 targetFutureValue)\\n        internal\\n        view\\n        returns (uint256 droppedAmount)\\n    {\\n        uint256 cursor = first(self);\\n        uint256 totalDroppedAmountInFV = 0;\\n        droppedAmount = 0;\\n\\n        // Find a node whose total amount is over the amount of the argument.\\n        while (totalDroppedAmountInFV < targetFutureValue && cursor != EMPTY) {\\n            uint256 cursorNodeAmountInPV = self.nodes[cursor].orderTotalAmount;\\n\\n            uint256 cursorNodeAmountInFV = _calculateFutureValue(cursor, cursorNodeAmountInPV);\\n            totalDroppedAmountInFV += cursorNodeAmountInFV;\\n\\n            if (totalDroppedAmountInFV > targetFutureValue) {\\n                uint256 filledAmountInFV = cursorNodeAmountInFV -\\n                    (totalDroppedAmountInFV - targetFutureValue);\\n                droppedAmount += (cursorNodeAmountInPV * filledAmountInFV).div(\\n                    cursorNodeAmountInFV\\n                );\\n            } else {\\n                droppedAmount += cursorNodeAmountInPV;\\n            }\\n\\n            cursor = next(self, cursor);\\n        }\\n    }\\n\\n    function estimateDroppedAmountFromRight(Tree storage self, uint256 targetFutureValue)\\n        internal\\n        view\\n        returns (uint256 droppedAmount)\\n    {\\n        uint256 cursor = last(self);\\n        uint256 totalDroppedAmountInFV = 0;\\n        droppedAmount = 0;\\n\\n        // Find a node whose total amount is over the amount of the argument.\\n        while (totalDroppedAmountInFV < targetFutureValue && cursor != EMPTY) {\\n            uint256 cursorNodeAmountInPV = self.nodes[cursor].orderTotalAmount;\\n\\n            uint256 cursorNodeAmountInFV = _calculateFutureValue(cursor, cursorNodeAmountInPV);\\n            totalDroppedAmountInFV += cursorNodeAmountInFV;\\n\\n            if (totalDroppedAmountInFV > targetFutureValue) {\\n                uint256 filledAmountInFV = cursorNodeAmountInFV -\\n                    (totalDroppedAmountInFV - targetFutureValue);\\n                droppedAmount += (cursorNodeAmountInPV * filledAmountInFV).div(\\n                    cursorNodeAmountInFV\\n                );\\n            } else {\\n                droppedAmount += cursorNodeAmountInPV;\\n            }\\n\\n            cursor = prev(self, cursor);\\n        }\\n    }\\n\\n    function dropLeft(\\n        Tree storage self,\\n        uint256 amount,\\n        uint256 limitValue,\\n        uint256 limitFutureValue\\n    )\\n        internal\\n        returns (\\n            uint256 value,\\n            uint256 totalFilledAmount,\\n            uint256 filledFutureValue,\\n            uint256 remainingAmount,\\n            RemainingOrder memory remainingOrder\\n        )\\n    {\\n        uint256 cursor = first(self);\\n        uint256 cursorNodeAmount = 0;\\n        uint256 totalAmount = 0;\\n\\n        require(cursor <= limitValue || limitValue == 0, \\\"Insufficient limit value\\\");\\n\\n        // Find a node whose total amount is over the amount of the argument.\\n        uint256 amountDiff;\\n        uint256 futureValueDiff;\\n        while (\\n            (totalAmount < amount || amount == EMPTY) &&\\n            (filledFutureValue < limitFutureValue || limitFutureValue == EMPTY) &&\\n            cursor != EMPTY &&\\n            (cursor <= limitValue || limitValue == EMPTY)\\n        ) {\\n            cursorNodeAmount = self.nodes[cursor].orderTotalAmount;\\n            totalAmount += cursorNodeAmount;\\n            value = cursor;\\n\\n            filledFutureValue += _calculateFutureValue(cursor, cursorNodeAmount);\\n            totalFilledAmount += cursorNodeAmount;\\n\\n            if (totalAmount > amount && amount != EMPTY) {\\n                amountDiff = totalAmount - amount;\\n                futureValueDiff = _calculateFutureValue(cursor, amountDiff);\\n            } else if (filledFutureValue > limitFutureValue && limitFutureValue != EMPTY) {\\n                futureValueDiff = filledFutureValue - limitFutureValue;\\n                amountDiff = _calculatePresentValue(cursor, futureValueDiff);\\n            }\\n\\n            cursor = next(self, cursor);\\n        }\\n\\n        if (amountDiff > 0) {\\n            totalFilledAmount -= amountDiff;\\n        }\\n        if (futureValueDiff > 0) {\\n            filledFutureValue -= futureValueDiff;\\n        }\\n\\n        if (totalAmount > 0) {\\n            if (amountDiff > 0) {\\n                cursor = value;\\n                // Update order ids in the node.\\n                remainingOrder = fillOrders(self, cursor, cursorNodeAmount - amountDiff);\\n            } else if (futureValueDiff > 0) {\\n                cursor = value;\\n                // Update order ids in the node.\\n                remainingOrder = fillOrders(\\n                    self,\\n                    cursor,\\n                    cursorNodeAmount - _calculatePresentValue(cursor, futureValueDiff)\\n                );\\n            }\\n\\n            self.nodes[cursor].left = 0;\\n\\n            uint256 parent = self.nodes[cursor].parent;\\n\\n            if (cursor != EMPTY) {\\n                while (parent != EMPTY) {\\n                    if (parent > cursor) {\\n                        // Relink the nodes\\n                        if (self.nodes[cursor].parent != parent) {\\n                            self.nodes[cursor].parent = parent;\\n                            self.nodes[parent].left = cursor;\\n                        }\\n\\n                        cursor = parent;\\n                    }\\n\\n                    parent = self.nodes[parent].parent;\\n                }\\n            }\\n        }\\n\\n        if (amount > totalAmount) {\\n            remainingAmount = amount - totalAmount;\\n        }\\n\\n        uint256 lastNode = last(self);\\n\\n        if (lastNode == value && self.nodes[lastNode].orderTotalAmount == 0) {\\n            // The case that all node is dropped.\\n            self.root = EMPTY;\\n        } else if (value > self.root || (value == self.root && totalFilledAmount >= totalAmount)) {\\n            // The case that the root node is dropped\\n            self.root = cursor;\\n            self.nodes[cursor].parent = 0;\\n        }\\n\\n        rotateTreeToLeft(self);\\n    }\\n\\n    function dropRight(\\n        Tree storage self,\\n        uint256 amount,\\n        uint256 limitValue,\\n        uint256 limitFutureValue\\n    )\\n        internal\\n        returns (\\n            uint256 value,\\n            uint256 totalFilledAmount,\\n            uint256 filledFutureValue,\\n            uint256 remainingAmount,\\n            RemainingOrder memory remainingOrder\\n        )\\n    {\\n        uint256 cursor = last(self);\\n        uint256 cursorNodeAmount = 0;\\n        uint256 totalAmount = 0;\\n\\n        require(cursor >= limitValue || limitValue == 0, \\\"Insufficient limit value\\\");\\n\\n        // Find a node whose total amount is over the amount of the argument.\\n        uint256 amountDiff;\\n        uint256 futureValueDiff;\\n        while (\\n            (totalAmount < amount || amount == EMPTY) &&\\n            (filledFutureValue < limitFutureValue || limitFutureValue == EMPTY) &&\\n            cursor != EMPTY &&\\n            (cursor >= limitValue || limitValue == EMPTY)\\n        ) {\\n            cursorNodeAmount = self.nodes[cursor].orderTotalAmount;\\n            totalAmount += cursorNodeAmount;\\n            value = cursor;\\n\\n            filledFutureValue += _calculateFutureValue(cursor, cursorNodeAmount);\\n            totalFilledAmount += cursorNodeAmount;\\n\\n            if (totalAmount > amount && amount != EMPTY) {\\n                amountDiff = totalAmount - amount;\\n                futureValueDiff = _calculateFutureValue(cursor, amountDiff);\\n            } else if (filledFutureValue > limitFutureValue && limitFutureValue != EMPTY) {\\n                futureValueDiff = filledFutureValue - limitFutureValue;\\n                amountDiff = _calculatePresentValue(cursor, futureValueDiff);\\n            }\\n\\n            cursor = prev(self, cursor);\\n        }\\n\\n        if (amountDiff > 0) {\\n            totalFilledAmount -= amountDiff;\\n        }\\n        if (futureValueDiff > 0) {\\n            filledFutureValue -= futureValueDiff;\\n        }\\n\\n        if (totalAmount > 0) {\\n            if (amountDiff > 0) {\\n                cursor = value;\\n                // Update order ids in the node.\\n                remainingOrder = fillOrders(self, cursor, cursorNodeAmount - amountDiff);\\n            } else if (futureValueDiff > 0) {\\n                cursor = value;\\n                // Update order ids in the node.\\n                remainingOrder = fillOrders(\\n                    self,\\n                    cursor,\\n                    cursorNodeAmount - _calculatePresentValue(cursor, futureValueDiff)\\n                );\\n            }\\n\\n            self.nodes[cursor].right = 0;\\n\\n            uint256 parent = self.nodes[cursor].parent;\\n\\n            if (cursor != EMPTY) {\\n                while (parent != EMPTY) {\\n                    if (parent < cursor) {\\n                        // Relink the nodes\\n                        if (self.nodes[cursor].parent != parent) {\\n                            self.nodes[cursor].parent = parent;\\n                            self.nodes[parent].right = cursor;\\n                        }\\n\\n                        cursor = parent;\\n                    }\\n\\n                    parent = self.nodes[parent].parent;\\n                }\\n            }\\n        }\\n\\n        if (amount > totalAmount) {\\n            remainingAmount = amount - totalAmount;\\n        }\\n\\n        uint256 firstNode = first(self);\\n\\n        if (firstNode == value && self.nodes[firstNode].orderTotalAmount == 0) {\\n            // The case that all node is dropped.\\n            self.root = EMPTY;\\n        } else if (value < self.root || (value == self.root && totalFilledAmount >= totalAmount)) {\\n            // The case that the root node is dropped\\n            self.root = cursor;\\n            self.nodes[cursor].parent = 0;\\n        }\\n\\n        rotateTreeToRight(self);\\n    }\\n\\n    function rotateTreeToLeft(Tree storage self) internal {\\n        if (self.nodes[self.root].left == 0 && self.nodes[self.root].right != 0) {\\n            if (self.nodes[self.nodes[self.root].right].left != 0) {\\n                rotateRight(self, self.nodes[self.root].right);\\n            }\\n            rotateLeft(self, self.root);\\n        }\\n\\n        if (self.nodes[self.root].red) {\\n            self.nodes[self.root].red = false;\\n        }\\n    }\\n\\n    function rotateTreeToRight(Tree storage self) internal {\\n        if (self.nodes[self.root].right == 0 && self.nodes[self.root].left != 0) {\\n            if (self.nodes[self.nodes[self.root].left].right != 0) {\\n                rotateLeft(self, self.nodes[self.root].left);\\n            }\\n            rotateRight(self, self.root);\\n        }\\n\\n        if (self.nodes[self.root].red) {\\n            self.nodes[self.root].red = false;\\n        }\\n    }\\n\\n    function getFutureValue(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal view returns (uint256) {\\n        return _calculateFutureValue(value, self.nodes[value].orders[orderId].amount);\\n    }\\n\\n    // Double linked list functions\\n    /**\\n     * @dev Retrieves the Object denoted by `_id`.\\n     */\\n    function getOrderById(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal view returns (OrderItem memory) {\\n        Node storage gn = self.nodes[value];\\n        return gn.orders[orderId];\\n    }\\n\\n    /**\\n     * @dev Return boolean if value, amount and orderId exist in doubly linked list\\n     */\\n    function orderIdExists(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal view returns (bool) {\\n        uint48 cursor = orderId;\\n        Node storage gn = self.nodes[value];\\n        OrderItem memory order = gn.orders[cursor];\\n\\n        if (order.orderId != cursor) {\\n            return false;\\n        }\\n\\n        while (order.prev != EMPTY) {\\n            cursor = order.prev;\\n            order = gn.orders[cursor];\\n        }\\n\\n        return cursor == gn.head;\\n    }\\n\\n    function insertOrder(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId,\\n        address user,\\n        uint256 amount,\\n        bool isInterruption\\n    ) internal {\\n        require(amount > 0, \\\"Insufficient amount\\\");\\n        require(value <= ProtocolTypes.PRICE_DIGIT, \\\"Insufficient value\\\");\\n        insert(self, value);\\n\\n        if (isInterruption) {\\n            addHead(self, value, orderId, user, amount);\\n        } else {\\n            addTail(self, value, orderId, user, amount);\\n        }\\n    }\\n\\n    function removeOrder(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal returns (uint256 amount) {\\n        amount = _removeOrder(self, value, orderId);\\n        remove(self, value);\\n    }\\n\\n    /**\\n     * @dev Reduces order amount once market order taken.\\n     */\\n    function fillOrders(\\n        Tree storage self,\\n        uint256 value,\\n        uint256 _amount\\n    ) internal returns (RemainingOrder memory remainingOrder) {\\n        Node storage gn = self.nodes[value];\\n\\n        require(\\n            gn.orderTotalAmount >= _amount,\\n            \\\"OrderStatisticsTree(410) - Amount to fill is insufficient\\\"\\n        );\\n\\n        uint256 remainingAmount = _amount;\\n        uint256 filledCount = 0;\\n        OrderItem memory currentOrder = gn.orders[gn.head];\\n        uint48 orderId = gn.head;\\n\\n        while (orderId != 0 && remainingAmount != 0) {\\n            currentOrder = gn.orders[orderId];\\n\\n            if (currentOrder.amount <= remainingAmount) {\\n                remainingAmount -= currentOrder.amount;\\n                orderId = currentOrder.next;\\n            } else {\\n                remainingOrder = RemainingOrder(\\n                    currentOrder.orderId,\\n                    currentOrder.maker,\\n                    currentOrder.amount - remainingAmount,\\n                    value\\n                );\\n                remainingAmount = 0;\\n            }\\n\\n            filledCount++;\\n        }\\n\\n        _dropOrders(self, value, currentOrder.orderId);\\n\\n        if (remainingOrder.amount > 0) {\\n            // NOTE: This order that the filled partially was dropped from a node, and the unfilled amount\\n            // will be inserted newly as a new orders.\\n            // However, that filled order amount is used when future value is calculated from inactive order.\\n            // For that calculation, this order amount needs to be updated by an actual filled amount at this point.\\n            OrderItem storage order = self.nodes[value].orders[currentOrder.orderId];\\n            order.amount -= remainingOrder.amount;\\n        }\\n    }\\n\\n    /**\\n     * @dev Insert a new OrderItem as the new Head with `_amount` in the amount field, and orderId.\\n     */\\n    function addHead(\\n        Tree storage self,\\n        uint256 _value,\\n        uint48 _orderId,\\n        address _user,\\n        uint256 _amount\\n    ) internal {\\n        Node storage gn = self.nodes[_value];\\n        uint48 orderId = _createOrder(self, _value, _orderId, _user, _amount);\\n        _link(self, _value, orderId, gn.head);\\n        _setHead(self, _value, orderId);\\n        if (gn.tail == 0) _setTail(self, _value, orderId);\\n    }\\n\\n    /**\\n     * @dev Insert a new OrderItem as the new Tail with `_amount` in the amount field, and orderId.\\n     */\\n    function addTail(\\n        Tree storage self,\\n        uint256 _value,\\n        uint48 _orderId,\\n        address _user,\\n        uint256 _amount\\n    ) internal {\\n        Node storage gn = self.nodes[_value];\\n\\n        if (gn.head == 0) {\\n            addHead(self, _value, _orderId, _user, _amount);\\n        } else {\\n            uint48 orderId = _createOrder(self, _value, _orderId, _user, _amount);\\n            _link(self, _value, gn.tail, orderId);\\n            _setTail(self, _value, orderId);\\n        }\\n    }\\n\\n    /**\\n     * @dev Internal function to create an unlinked Order.\\n     */\\n    function _createOrder(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId,\\n        address user,\\n        uint256 amount\\n    ) internal returns (uint48) {\\n        Node storage gn = self.nodes[value];\\n        require(\\n            gn.orders[orderId].timestamp == 0,\\n            \\\"OrderStatisticsTree(409) - Order id already exist.\\\"\\n        );\\n\\n        gn.orderCounter += 1;\\n        gn.orderTotalAmount += amount;\\n        OrderItem memory order = OrderItem(orderId, 0, 0, user, block.timestamp, amount);\\n        gn.orders[orderId] = order;\\n        return order.orderId;\\n    }\\n\\n    /**\\n     * @dev Remove the OrderItem denoted by `_id` from the list.\\n     */\\n    function _removeOrder(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal returns (uint256 amount) {\\n        require(\\n            isActiveOrderId(self, value, orderId),\\n            \\\"OrderStatisticsTree(410) - Order does not exist.\\\"\\n        );\\n        Node storage gn = self.nodes[value];\\n\\n        OrderItem memory order = gn.orders[orderId];\\n        amount = order.amount;\\n\\n        if (gn.head == orderId && gn.tail == orderId) {\\n            _setHead(self, value, 0);\\n            _setTail(self, value, 0);\\n        } else if (gn.head == orderId) {\\n            _setHead(self, value, order.next);\\n            gn.orders[order.next].prev = 0;\\n        } else if (gn.tail == orderId) {\\n            _setTail(self, value, order.prev);\\n            gn.orders[order.prev].next = 0;\\n        } else {\\n            _link(self, value, order.prev, order.next);\\n        }\\n        delete gn.orders[order.orderId];\\n        gn.orderCounter -= 1;\\n        gn.orderTotalAmount -= order.amount;\\n    }\\n\\n    /**\\n     * @dev Drop the OrderItems older than or equal `orderId` from the list\\n     */\\n    function _dropOrders(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal returns (uint256 amount) {\\n        require(\\n            isActiveOrderId(self, value, orderId),\\n            \\\"OrderStatisticsTree(410) - Order does not exist.\\\"\\n        );\\n        Node storage gn = self.nodes[value];\\n\\n        OrderItem memory order = gn.orders[orderId];\\n        amount = order.amount;\\n        uint256 cursor = gn.head;\\n        uint256 removedCount = 1;\\n        uint256 removedAmount = gn.orders[cursor].amount;\\n\\n        while (cursor != orderId) {\\n            cursor = gn.orders[cursor].next;\\n            removedCount++;\\n            removedAmount += gn.orders[cursor].amount;\\n        }\\n\\n        if (gn.tail == orderId) {\\n            _setHead(self, value, 0);\\n            _setTail(self, value, 0);\\n        } else {\\n            _setHead(self, value, order.next);\\n            gn.orders[order.next].prev = 0;\\n        }\\n\\n        gn.orderCounter -= removedCount;\\n        gn.orderTotalAmount -= removedAmount;\\n    }\\n\\n    /**\\n     * @dev Internal function to update the Head pointer.\\n     */\\n    function _setHead(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal {\\n        Node storage gn = self.nodes[value];\\n\\n        gn.head = orderId;\\n    }\\n\\n    /**\\n     * @dev Internal function to update the Tail pointer.\\n     */\\n    function _setTail(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 orderId\\n    ) internal {\\n        Node storage gn = self.nodes[value];\\n\\n        gn.tail = orderId;\\n    }\\n\\n    /**\\n     * @dev Internal function to link an Object to another.\\n     */\\n    function _link(\\n        Tree storage self,\\n        uint256 value,\\n        uint48 _prevId,\\n        uint48 _nextId\\n    ) internal {\\n        Node storage gn = self.nodes[value];\\n\\n        gn.orders[_prevId].next = _nextId;\\n        gn.orders[_nextId].prev = _prevId;\\n    }\\n\\n    function _calculateFutureValue(uint256 unitPrice, uint256 amount)\\n        internal\\n        pure\\n        returns (uint256)\\n    {\\n        return (amount * ProtocolTypes.PRICE_DIGIT).div(unitPrice);\\n    }\\n\\n    function _calculatePresentValue(uint256 unitPrice, uint256 amount)\\n        internal\\n        pure\\n        returns (uint256)\\n    {\\n        return (amount * unitPrice).div(ProtocolTypes.PRICE_DIGIT);\\n    }\\n}\\n\",\"keccak256\":\"0xba28049b7345f07e3277943232c1c9b408e89b26ec4b6fd3710363ee59a5cdcf\",\"license\":\"MIT\"},\"contracts/libraries/logics/OrderBookLogic.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.9;\\n\\nimport {OrderStatisticsTreeLib, RemainingOrder, OrderItem} from \\\"../OrderStatisticsTreeLib.sol\\\";\\nimport {RoundingUint256} from \\\"../math/RoundingUint256.sol\\\";\\nimport {ILendingMarket} from \\\"../../interfaces/ILendingMarket.sol\\\";\\nimport {ProtocolTypes} from \\\"../../types/ProtocolTypes.sol\\\";\\nimport {LendingMarketStorage as Storage, MarketOrder} from \\\"../../storages/LendingMarketStorage.sol\\\";\\n\\nlibrary OrderBookLogic {\\n    using OrderStatisticsTreeLib for OrderStatisticsTreeLib.Tree;\\n    using RoundingUint256 for uint256;\\n\\n    function getHighestLendingUnitPrice() public view returns (uint256) {\\n        return Storage.slot().lendOrders[Storage.slot().maturity].last();\\n    }\\n\\n    function getLowestBorrowingUnitPrice() public view returns (uint256) {\\n        uint256 unitPrice = Storage.slot().borrowOrders[Storage.slot().maturity].first();\\n        return unitPrice == 0 ? ProtocolTypes.PRICE_DIGIT : unitPrice;\\n    }\\n\\n    function getLendOrderBook(uint256 _limit)\\n        public\\n        view\\n        returns (\\n            uint256[] memory unitPrices,\\n            uint256[] memory amounts,\\n            uint256[] memory quantities\\n        )\\n    {\\n        unitPrices = new uint256[](_limit);\\n        amounts = new uint256[](_limit);\\n        quantities = new uint256[](_limit);\\n\\n        uint256 unitPrice = Storage.slot().lendOrders[Storage.slot().maturity].last();\\n        unitPrices[0] = unitPrice;\\n        amounts[0] = Storage.slot().lendOrders[Storage.slot().maturity].getNodeTotalAmount(\\n            unitPrice\\n        );\\n        quantities[0] = Storage.slot().lendOrders[Storage.slot().maturity].getNodeCount(unitPrice);\\n\\n        for (uint256 i = 1; i < unitPrices.length; i++) {\\n            if (unitPrice == 0) {\\n                break;\\n            }\\n\\n            unitPrice = Storage.slot().lendOrders[Storage.slot().maturity].prev(unitPrice);\\n            unitPrices[i] = unitPrice;\\n            amounts[i] = Storage.slot().lendOrders[Storage.slot().maturity].getNodeTotalAmount(\\n                unitPrice\\n            );\\n            quantities[i] = Storage.slot().lendOrders[Storage.slot().maturity].getNodeCount(\\n                unitPrice\\n            );\\n        }\\n    }\\n\\n    function getBorrowOrderBook(uint256 _limit)\\n        public\\n        view\\n        returns (\\n            uint256[] memory unitPrices,\\n            uint256[] memory amounts,\\n            uint256[] memory quantities\\n        )\\n    {\\n        unitPrices = new uint256[](_limit);\\n        amounts = new uint256[](_limit);\\n        quantities = new uint256[](_limit);\\n\\n        uint256 unitPrice = Storage.slot().borrowOrders[Storage.slot().maturity].first();\\n        unitPrices[0] = unitPrice;\\n        amounts[0] = Storage.slot().borrowOrders[Storage.slot().maturity].getNodeTotalAmount(\\n            unitPrice\\n        );\\n        quantities[0] = Storage.slot().borrowOrders[Storage.slot().maturity].getNodeCount(\\n            unitPrice\\n        );\\n\\n        for (uint256 i = 1; i < unitPrices.length; i++) {\\n            if (unitPrice == 0) {\\n                break;\\n            }\\n\\n            unitPrice = Storage.slot().borrowOrders[Storage.slot().maturity].next(unitPrice);\\n            unitPrices[i] = unitPrice;\\n            amounts[i] = Storage.slot().borrowOrders[Storage.slot().maturity].getNodeTotalAmount(\\n                unitPrice\\n            );\\n            quantities[i] = Storage.slot().borrowOrders[Storage.slot().maturity].getNodeCount(\\n                unitPrice\\n            );\\n        }\\n    }\\n\\n    function getOrder(uint48 _orderId)\\n        public\\n        view\\n        returns (\\n            ProtocolTypes.Side side,\\n            uint256 unitPrice,\\n            uint256 maturity,\\n            address maker,\\n            uint256 amount,\\n            uint256 timestamp\\n        )\\n    {\\n        MarketOrder memory marketOrder = Storage.slot().orders[_orderId];\\n\\n        OrderItem memory orderItem;\\n        if (marketOrder.side == ProtocolTypes.Side.LEND) {\\n            orderItem = Storage.slot().lendOrders[marketOrder.maturity].getOrderById(\\n                marketOrder.unitPrice,\\n                _orderId\\n            );\\n        } else {\\n            orderItem = Storage.slot().borrowOrders[marketOrder.maturity].getOrderById(\\n                marketOrder.unitPrice,\\n                _orderId\\n            );\\n        }\\n\\n        if (orderItem.maker != address(0)) {\\n            return (\\n                marketOrder.side,\\n                marketOrder.unitPrice,\\n                marketOrder.maturity,\\n                orderItem.maker,\\n                orderItem.amount,\\n                orderItem.timestamp\\n            );\\n        }\\n    }\\n\\n    function getTotalAmountFromLendOrders(address _user)\\n        public\\n        view\\n        returns (\\n            uint256 activeAmount,\\n            uint256 inactiveAmount,\\n            uint256 inactiveFutureValue,\\n            uint256 maturity\\n        )\\n    {\\n        (uint48[] memory activeOrderIds, uint48[] memory inActiveOrderIds) = getActiveLendOrderIds(\\n            _user\\n        );\\n\\n        maturity = Storage.slot().userCurrentMaturities[_user];\\n\\n        for (uint256 i = 0; i < activeOrderIds.length; i++) {\\n            MarketOrder memory marketOrder = Storage.slot().orders[activeOrderIds[i]];\\n            // Sum future values in the current maturity.\\n            // If the market is rotated and maturity is updated, it will be 0 by treating it\\n            // as an order canceled in the past market.\\n            OrderItem memory orderItem = Storage\\n                .slot()\\n                .lendOrders[Storage.slot().maturity]\\n                .getOrderById(marketOrder.unitPrice, activeOrderIds[i]);\\n            activeAmount += orderItem.amount;\\n        }\\n\\n        for (uint256 i = 0; i < inActiveOrderIds.length; i++) {\\n            MarketOrder memory marketOrder = Storage.slot().orders[inActiveOrderIds[i]];\\n            if (maturity == 0) {\\n                maturity = marketOrder.maturity;\\n            }\\n            // Sum future values in the maturity of orders\\n            // It will be the future value when the order is created, even if the market is rotated\\n            // and maturity is updated.\\n            OrderItem memory orderItem = Storage\\n                .slot()\\n                .lendOrders[marketOrder.maturity]\\n                .getOrderById(marketOrder.unitPrice, inActiveOrderIds[i]);\\n            inactiveAmount += orderItem.amount;\\n\\n            // Check if the order is filled by Itayose.\\n            // If the order is filled by Itayose, the opening unit price is used instead of the order's one.\\n            uint256 unitPrice = marketOrder.unitPrice;\\n            if (Storage.slot().isPreOrder[inActiveOrderIds[i]] == true) {\\n                uint256 openingUnitPrice = Storage.slot().openingUnitPrices[marketOrder.maturity];\\n                if (openingUnitPrice < unitPrice) {\\n                    unitPrice = openingUnitPrice;\\n                }\\n            }\\n\\n            inactiveFutureValue += (orderItem.amount * ProtocolTypes.PRICE_DIGIT).div(unitPrice);\\n        }\\n    }\\n\\n    function getTotalAmountFromBorrowOrders(address _user)\\n        public\\n        view\\n        returns (\\n            uint256 activeAmount,\\n            uint256 inactiveAmount,\\n            uint256 inactiveFutureValue,\\n            uint256 maturity\\n        )\\n    {\\n        (\\n            uint48[] memory activeOrderIds,\\n            uint48[] memory inActiveOrderIds\\n        ) = getActiveBorrowOrderIds(_user);\\n\\n        for (uint256 i = 0; i < activeOrderIds.length; i++) {\\n            MarketOrder memory marketOrder = Storage.slot().orders[activeOrderIds[i]];\\n            // Sum future values in the current maturity.\\n            // If the market is rotated and maturity is updated, it will be 0 by treating it\\n            // as an order canceled in the past market.\\n            OrderItem memory orderItem = Storage\\n                .slot()\\n                .borrowOrders[Storage.slot().maturity]\\n                .getOrderById(marketOrder.unitPrice, activeOrderIds[i]);\\n            activeAmount += orderItem.amount;\\n        }\\n\\n        maturity = Storage.slot().userCurrentMaturities[_user];\\n\\n        for (uint256 i = 0; i < inActiveOrderIds.length; i++) {\\n            MarketOrder memory marketOrder = Storage.slot().orders[inActiveOrderIds[i]];\\n            // Sum future values in the maturity of orders\\n            // It will be the future value when the order is created, even if the market is rotated\\n            // and maturity is updated.\\n            OrderItem memory orderItem = Storage\\n                .slot()\\n                .borrowOrders[marketOrder.maturity]\\n                .getOrderById(marketOrder.unitPrice, inActiveOrderIds[i]);\\n            inactiveAmount += orderItem.amount;\\n\\n            // Check if the order is filled by Itayose.\\n            // If the order is filled by Itayose, the opening unit price is used instead of the order's one.\\n            uint256 unitPrice = marketOrder.unitPrice;\\n            if (Storage.slot().isPreOrder[inActiveOrderIds[i]] == true) {\\n                uint256 openingUnitPrice = Storage.slot().openingUnitPrices[marketOrder.maturity];\\n                if (openingUnitPrice > unitPrice) {\\n                    unitPrice = openingUnitPrice;\\n                }\\n            }\\n\\n            inactiveFutureValue += (orderItem.amount * ProtocolTypes.PRICE_DIGIT).div(unitPrice);\\n        }\\n    }\\n\\n    function getActiveLendOrderIds(address _user)\\n        public\\n        view\\n        returns (uint48[] memory activeOrderIds, uint48[] memory inActiveOrderIds)\\n    {\\n        uint256 activeOrderCount = 0;\\n        uint256 inActiveOrderCount = 0;\\n        bool isPastMaturity = Storage.slot().userCurrentMaturities[_user] !=\\n            Storage.slot().maturity;\\n\\n        activeOrderIds = new uint48[](\\n            isPastMaturity ? 0 : Storage.slot().activeLendOrderIds[_user].length\\n        );\\n        inActiveOrderIds = new uint48[](Storage.slot().activeLendOrderIds[_user].length);\\n\\n        for (uint256 i = 0; i < Storage.slot().activeLendOrderIds[_user].length; i++) {\\n            uint48 orderId = Storage.slot().activeLendOrderIds[_user][i];\\n            MarketOrder memory marketOrder = Storage.slot().orders[orderId];\\n\\n            if (\\n                !Storage\\n                    .slot()\\n                    .lendOrders[Storage.slot().userCurrentMaturities[_user]]\\n                    .isActiveOrderId(marketOrder.unitPrice, orderId)\\n            ) {\\n                inActiveOrderCount += 1;\\n                inActiveOrderIds[i - activeOrderCount] = orderId;\\n                if (!isPastMaturity) {\\n                    assembly {\\n                        mstore(activeOrderIds, sub(mload(activeOrderIds), 1))\\n                    }\\n                }\\n            } else {\\n                if (!isPastMaturity) {\\n                    activeOrderCount += 1;\\n                    activeOrderIds[i - inActiveOrderCount] = orderId;\\n                }\\n                assembly {\\n                    mstore(inActiveOrderIds, sub(mload(inActiveOrderIds), 1))\\n                }\\n            }\\n        }\\n    }\\n\\n    function getActiveBorrowOrderIds(address _user)\\n        public\\n        view\\n        returns (uint48[] memory activeOrderIds, uint48[] memory inActiveOrderIds)\\n    {\\n        uint256 activeOrderCount = 0;\\n        uint256 inActiveOrderCount = 0;\\n        bool isPastMaturity = Storage.slot().userCurrentMaturities[_user] !=\\n            Storage.slot().maturity;\\n\\n        activeOrderIds = new uint48[](\\n            isPastMaturity ? 0 : Storage.slot().activeBorrowOrderIds[_user].length\\n        );\\n        inActiveOrderIds = new uint48[](Storage.slot().activeBorrowOrderIds[_user].length);\\n\\n        for (uint256 i = 0; i < Storage.slot().activeBorrowOrderIds[_user].length; i++) {\\n            uint48 orderId = Storage.slot().activeBorrowOrderIds[_user][i];\\n            MarketOrder memory marketOrder = Storage.slot().orders[orderId];\\n\\n            if (\\n                !Storage\\n                    .slot()\\n                    .borrowOrders[Storage.slot().userCurrentMaturities[_user]]\\n                    .isActiveOrderId(marketOrder.unitPrice, orderId)\\n            ) {\\n                inActiveOrderCount += 1;\\n                inActiveOrderIds[i - activeOrderCount] = orderId;\\n                if (!isPastMaturity) {\\n                    assembly {\\n                        mstore(activeOrderIds, sub(mload(activeOrderIds), 1))\\n                    }\\n                }\\n            } else {\\n                activeOrderCount += 1;\\n                if (!isPastMaturity) {\\n                    activeOrderIds[i - inActiveOrderCount] = orderId;\\n                }\\n                assembly {\\n                    mstore(inActiveOrderIds, sub(mload(inActiveOrderIds), 1))\\n                }\\n            }\\n        }\\n    }\\n\\n    function estimateFilledAmount(ProtocolTypes.Side _side, uint256 _futureValue)\\n        public\\n        view\\n        returns (uint256 amount)\\n    {\\n        if (_side == ProtocolTypes.Side.BORROW) {\\n            return\\n                Storage.slot().lendOrders[Storage.slot().maturity].estimateDroppedAmountFromRight(\\n                    _futureValue\\n                );\\n        } else {\\n            return\\n                Storage.slot().borrowOrders[Storage.slot().maturity].estimateDroppedAmountFromLeft(\\n                    _futureValue\\n                );\\n        }\\n    }\\n\\n    function insertOrder(\\n        ProtocolTypes.Side _side,\\n        address _user,\\n        uint256 _amount,\\n        uint256 _unitPrice,\\n        bool _isInterruption\\n    ) public returns (uint48 orderId) {\\n        orderId = _nextOrderId();\\n        Storage.slot().orders[orderId] = MarketOrder(\\n            _side,\\n            _unitPrice,\\n            Storage.slot().maturity,\\n            block.timestamp\\n        );\\n\\n        if (_side == ProtocolTypes.Side.LEND) {\\n            Storage.slot().lendOrders[Storage.slot().maturity].insertOrder(\\n                _unitPrice,\\n                orderId,\\n                _user,\\n                _amount,\\n                _isInterruption\\n            );\\n            Storage.slot().activeLendOrderIds[_user].push(orderId);\\n        } else if (_side == ProtocolTypes.Side.BORROW) {\\n            Storage.slot().borrowOrders[Storage.slot().maturity].insertOrder(\\n                _unitPrice,\\n                orderId,\\n                _user,\\n                _amount,\\n                _isInterruption\\n            );\\n            Storage.slot().activeBorrowOrderIds[_user].push(orderId);\\n        }\\n    }\\n\\n    function dropOrders(\\n        ProtocolTypes.Side _side,\\n        uint256 _amount,\\n        uint256 _unitPrice\\n    )\\n        public\\n        returns (\\n            uint256 filledUnitPrice,\\n            RemainingOrder memory remainingOrder,\\n            uint256 filledFutureValue,\\n            uint256 remainingAmount\\n        )\\n    {\\n        if (_side == ProtocolTypes.Side.BORROW) {\\n            (filledUnitPrice, , filledFutureValue, remainingAmount, remainingOrder) = Storage\\n                .slot()\\n                .lendOrders[Storage.slot().maturity]\\n                .dropRight(_amount, _unitPrice, 0);\\n        } else if (_side == ProtocolTypes.Side.LEND) {\\n            (filledUnitPrice, , filledFutureValue, remainingAmount, remainingOrder) = Storage\\n                .slot()\\n                .borrowOrders[Storage.slot().maturity]\\n                .dropLeft(_amount, _unitPrice, 0);\\n        }\\n    }\\n\\n    function dropOrders(ProtocolTypes.Side _side, uint256 _futureValue)\\n        public\\n        returns (\\n            uint256 filledUnitPrice,\\n            RemainingOrder memory remainingOrder,\\n            uint256 filledAmount,\\n            uint256 filledFutureValue\\n        )\\n    {\\n        if (_side == ProtocolTypes.Side.BORROW) {\\n            (filledUnitPrice, filledAmount, filledFutureValue, , remainingOrder) = Storage\\n                .slot()\\n                .lendOrders[Storage.slot().maturity]\\n                .dropRight(0, 0, _futureValue);\\n        } else if (_side == ProtocolTypes.Side.LEND) {\\n            (filledUnitPrice, filledAmount, filledFutureValue, , remainingOrder) = Storage\\n                .slot()\\n                .borrowOrders[Storage.slot().maturity]\\n                .dropLeft(0, 0, _futureValue);\\n        }\\n    }\\n\\n    function cleanLendOrders(address _user, uint256 _maturity)\\n        public\\n        returns (\\n            uint48[] memory orderIds,\\n            uint256 activeOrderCount,\\n            uint256 removedFutureValue,\\n            uint256 removedOrderAmount\\n        )\\n    {\\n        (\\n            uint48[] memory activeLendOrderIds,\\n            uint48[] memory inActiveLendOrderIds\\n        ) = getActiveLendOrderIds(_user);\\n\\n        Storage.slot().activeLendOrderIds[_user] = activeLendOrderIds;\\n        activeOrderCount = activeLendOrderIds.length;\\n        uint256 inactiveOrderCount = inActiveLendOrderIds.length;\\n        orderIds = new uint48[](inactiveOrderCount);\\n\\n        for (uint256 i = 0; i < inactiveOrderCount; i++) {\\n            MarketOrder memory marketOrder = Storage.slot().orders[inActiveLendOrderIds[i]];\\n            OrderItem memory orderItem = Storage.slot().lendOrders[_maturity].getOrderById(\\n                marketOrder.unitPrice,\\n                inActiveLendOrderIds[i]\\n            );\\n            removedFutureValue += Storage.slot().lendOrders[_maturity].getFutureValue(\\n                marketOrder.unitPrice,\\n                inActiveLendOrderIds[i]\\n            );\\n            removedOrderAmount += orderItem.amount;\\n\\n            orderIds[i] = orderItem.orderId;\\n        }\\n    }\\n\\n    function cleanBorrowOrders(address _user, uint256 _maturity)\\n        public\\n        returns (\\n            uint48[] memory orderIds,\\n            uint256 activeOrderCount,\\n            uint256 removedFutureValue,\\n            uint256 removedOrderAmount\\n        )\\n    {\\n        (\\n            uint48[] memory activeBorrowOrderIds,\\n            uint48[] memory inActiveBorrowOrderIds\\n        ) = getActiveBorrowOrderIds(_user);\\n\\n        Storage.slot().activeBorrowOrderIds[_user] = activeBorrowOrderIds;\\n        activeOrderCount = activeBorrowOrderIds.length;\\n        uint256 inactiveOrderCount = inActiveBorrowOrderIds.length;\\n        orderIds = new uint48[](inactiveOrderCount);\\n\\n        for (uint256 i = 0; i < inactiveOrderCount; i++) {\\n            MarketOrder memory marketOrder = Storage.slot().orders[inActiveBorrowOrderIds[i]];\\n            OrderItem memory orderItem = Storage.slot().borrowOrders[_maturity].getOrderById(\\n                marketOrder.unitPrice,\\n                inActiveBorrowOrderIds[i]\\n            );\\n            removedFutureValue += Storage.slot().borrowOrders[_maturity].getFutureValue(\\n                marketOrder.unitPrice,\\n                inActiveBorrowOrderIds[i]\\n            );\\n\\n            removedOrderAmount += orderItem.amount;\\n\\n            orderIds[i] = orderItem.orderId;\\n        }\\n    }\\n\\n    function removeOrder(address _user, uint48 _orderId)\\n        public\\n        returns (\\n            ProtocolTypes.Side,\\n            uint256,\\n            uint256\\n        )\\n    {\\n        MarketOrder memory marketOrder = Storage.slot().orders[_orderId];\\n        uint256 removedAmount;\\n        if (marketOrder.side == ProtocolTypes.Side.LEND) {\\n            removedAmount = Storage.slot().lendOrders[Storage.slot().maturity].removeOrder(\\n                marketOrder.unitPrice,\\n                _orderId\\n            );\\n            _removeOrderIdFromOrders(Storage.slot().activeLendOrderIds[_user], _orderId);\\n        } else if (marketOrder.side == ProtocolTypes.Side.BORROW) {\\n            removedAmount = Storage.slot().borrowOrders[Storage.slot().maturity].removeOrder(\\n                marketOrder.unitPrice,\\n                _orderId\\n            );\\n            _removeOrderIdFromOrders(Storage.slot().activeBorrowOrderIds[_user], _orderId);\\n        }\\n\\n        return (marketOrder.side, removedAmount, marketOrder.unitPrice);\\n    }\\n\\n    function getOpeningUnitPrice()\\n        public\\n        view\\n        returns (uint256 openingUnitPrice, uint256 totalOffsetAmount)\\n    {\\n        uint256 lendUnitPrice = getHighestLendingUnitPrice();\\n        uint256 borrowUnitPrice = getLowestBorrowingUnitPrice();\\n        uint256 lendAmount = Storage.slot().lendOrders[Storage.slot().maturity].getNodeTotalAmount(\\n            lendUnitPrice\\n        );\\n        uint256 borrowAmount = Storage\\n            .slot()\\n            .borrowOrders[Storage.slot().maturity]\\n            .getNodeTotalAmount(borrowUnitPrice);\\n\\n        OrderStatisticsTreeLib.Tree storage borrowOrders = Storage.slot().borrowOrders[\\n            Storage.slot().maturity\\n        ];\\n        OrderStatisticsTreeLib.Tree storage lendOrders = Storage.slot().lendOrders[\\n            Storage.slot().maturity\\n        ];\\n\\n        while (borrowUnitPrice <= lendUnitPrice && borrowUnitPrice > 0 && lendUnitPrice > 0) {\\n            if (lendAmount > borrowAmount) {\\n                openingUnitPrice = lendUnitPrice;\\n                totalOffsetAmount += borrowAmount;\\n                lendAmount -= borrowAmount;\\n                borrowUnitPrice = borrowOrders.next(borrowUnitPrice);\\n                borrowAmount = borrowOrders.getNodeTotalAmount(borrowUnitPrice);\\n            } else if (lendAmount < borrowAmount) {\\n                openingUnitPrice = borrowUnitPrice;\\n                totalOffsetAmount += lendAmount;\\n                borrowAmount -= lendAmount;\\n                lendUnitPrice = lendOrders.prev(lendUnitPrice);\\n                lendAmount = lendOrders.getNodeTotalAmount(lendUnitPrice);\\n            } else {\\n                openingUnitPrice = (lendUnitPrice + borrowUnitPrice) / 2;\\n                totalOffsetAmount += lendAmount;\\n                lendUnitPrice = lendOrders.prev(lendUnitPrice);\\n                borrowUnitPrice = borrowOrders.next(borrowUnitPrice);\\n                lendAmount = lendOrders.getNodeTotalAmount(lendUnitPrice);\\n                borrowAmount = borrowOrders.getNodeTotalAmount(borrowUnitPrice);\\n            }\\n        }\\n    }\\n\\n    /**\\n     * @notice Increases and returns id of last order in order book.\\n     * @return The new order id\\n     */\\n    function _nextOrderId() private returns (uint48) {\\n        Storage.slot().lastOrderId++;\\n        return Storage.slot().lastOrderId;\\n    }\\n\\n    function _removeOrderIdFromOrders(uint48[] storage orders, uint256 orderId) private {\\n        uint256 lastOrderIndex = orders.length - 1;\\n        for (uint256 i = 0; i <= lastOrderIndex; i++) {\\n            if (orders[i] == orderId) {\\n                if (i != lastOrderIndex) {\\n                    uint48 lastOrderId = orders[lastOrderIndex];\\n                    orders[i] = lastOrderId;\\n                }\\n\\n                orders.pop();\\n                break;\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x88c9ca213c38ba4a9faac08e26b46c2af842a7bc46680bb54ad7cc56376a6f77\",\"license\":\"MIT\"},\"contracts/libraries/math/RoundingUint256.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.9;\\n\\nlibrary RoundingUint256 {\\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b > 0);\\n\\n        if ((a * 10) / b - (a / b) * 10 < 5) {\\n            return a / b;\\n        } else {\\n            return (a / b) + 1;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xbc360f39a82f1a9a7454726e3db802407d305b5e525aa8c3236fe49ca6ca534d\",\"license\":\"MIT\"},\"contracts/storages/LendingMarketStorage.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.9;\\n\\nimport \\\"../types/ProtocolTypes.sol\\\";\\nimport \\\"../libraries/OrderStatisticsTreeLib.sol\\\";\\n\\nstruct MarketOrder {\\n    ProtocolTypes.Side side;\\n    uint256 unitPrice; // in basis points\\n    uint256 maturity;\\n    uint256 timestamp;\\n}\\n\\nlibrary LendingMarketStorage {\\n    using OrderStatisticsTreeLib for OrderStatisticsTreeLib.Tree;\\n\\n    bytes32 internal constant STORAGE_SLOT = keccak256(\\\"sf.storage.lendingMarket\\\");\\n\\n    struct Storage {\\n        bytes32 ccy;\\n        uint48 lastOrderId;\\n        uint256 openingDate;\\n        uint256 maturity;\\n        // Mapping from maturity to opening unit price\\n        mapping(uint256 => uint256) openingUnitPrices;\\n        // Mapping from maturity to boolean if the market is ready or not\\n        mapping(uint256 => bool) isReady;\\n        // Mapping from user to active lend order ids\\n        mapping(address => uint48[]) activeLendOrderIds;\\n        // Mapping from user to active borrow order ids\\n        mapping(address => uint48[]) activeBorrowOrderIds;\\n        // Mapping from user to current maturity\\n        mapping(address => uint256) userCurrentMaturities;\\n        // Mapping from orderId to order\\n        mapping(uint256 => MarketOrder) orders;\\n        // Mapping from orderId to boolean for pre-order or not\\n        mapping(uint256 => bool) isPreOrder;\\n        // Mapping from maturity to lending orders\\n        mapping(uint256 => OrderStatisticsTreeLib.Tree) lendOrders;\\n        // Mapping from maturity to borrowing orders\\n        mapping(uint256 => OrderStatisticsTreeLib.Tree) borrowOrders;\\n    }\\n\\n    function slot() internal pure returns (Storage storage r) {\\n        bytes32 _slot = STORAGE_SLOT;\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            r.slot := _slot\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x4f83e32de550c47e0bf47d192f22fc445864a04ac0a3d922aeb911a4a9dd32d6\",\"license\":\"MIT\"},\"contracts/types/ProtocolTypes.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.9;\\n\\n/**\\n * @dev ProtocolTypes is a base-level contract that holds common Secured Finance protocol types\\n * @author Secured Finance\\n */\\nlibrary ProtocolTypes {\\n    // Constant values\\n    uint256 public constant PRICE_DIGIT = 10000; // price digit in the basis (10000 -> 1)\\n    uint256 public constant PCT_DIGIT = 10000; // percentage digit in the basis (10000 -> 100%)\\n\\n    uint256 internal constant DAYS_IN_YEAR = 365;\\n    uint256 internal constant SECONDS_IN_MONTH = 2592000; // 60 * 60 * 24 * 30 * 12\\n    uint256 internal constant SECONDS_IN_YEAR = 31536000; // 60 * 60 * 24 * 365\\n\\n    uint256 internal constant BASIS_TERM = 3;\\n    uint256 internal constant MAXIMUM_ORDER_COUNT = 20;\\n\\n    // Lending market common types\\n    enum Side {\\n        LEND,\\n        BORROW\\n    }\\n}\\n\",\"keccak256\":\"0xcb43d4a2e7f1986226d3562402000a7e3766391cb1e350aa625e70952ed218b6\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x61535761003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106101155760003560e01c8063914551f1116100ac578063e2afb0411161007b578063e2afb04114610314578063e3d904d81461031c578063e7df768c1461034f578063eebc28f914610362578063fa6127aa1461037557600080fd5b8063914551f1146102a05780639ca16952146102c0578063a452c3f8146102e0578063d866d3551461030157600080fd5b806363978ac8116100e857806363978ac8146101be5780636a2c42741461022f5780636c5db8431461024c5780637ce219aa1461027b57600080fd5b80633684d3ea1461011a5780634a53967b146101565780634bf62d1614610186578063614152b9146101a8575b600080fd5b81801561012657600080fd5b5061013a610135366004614eb7565b610388565b60405165ffffffffffff90911681526020015b60405180910390f35b81801561016257600080fd5b50610176610171366004614f17565b610593565b60405161014d9493929190614f84565b610199610194366004614fb3565b6107e6565b60405161014d93929190614ffc565b6101b0610a9a565b60405190815260200161014d565b8180156101ca57600080fd5b506101de6101d936600461503f565b610ae4565b60408051948552835165ffffffffffff166020808701919091528401516001600160a01b03168582015283015160608086019190915290920151608084015260a083015260c082015260e00161014d565b610237610bc9565b6040805192835260208301919091520161014d565b81801561025857600080fd5b5061026c610267366004615088565b610d9b565b60405161014d939291906150f3565b61028e610289366004615112565b610f39565b60405161014d9695949392919061512d565b8180156102ac57600080fd5b506101766102bb366004614f17565b6110c8565b8180156102cc57600080fd5b506101de6102db36600461516c565b61130e565b6102f36102ee366004615188565b611395565b60405161014d9291906151a3565b61019961030f366004614fb3565b6116f1565b6101b061192b565b61032f61032a366004615188565b61193d565b60408051948552602085019390935291830152606082015260800161014d565b61032f61035d366004615188565b611c6a565b6102f3610370366004615188565b611f73565b6101b061038336600461516c565b612282565b600061039261231d565b905060405180608001604052808760018111156103b1576103b16150bb565b81526020018481526020016103c461237c565b600301548152602001428152506103d961237c565b65ffffffffffff831660009081526009919091016020526040902081518154829060ff191660018381811115610411576104116150bb565b02179055506020820151600182015560408201516002820155606090910151600390910155600086600181111561044a5761044a6150bb565b14156104f557610491838287878661046061237c565b600b01600061046d61237c565b6003015481526020019081526020016000206123a09095949392919063ffffffff16565b61049961237c565b6001600160a01b03861660009081526006918201602090815260408220805460018101825590835291206005808304909101805465ffffffffffff808716939094069094026101000a918202929091021990921617905561058a565b6001866001811115610509576105096150bb565b141561058a5761052c838287878661051f61237c565b600c01600061046d61237c565b61053461237c565b6001600160a01b03861660009081526007919091016020908152604082208054600181018255908352912060058083049091018054919092066006026101000a65ffffffffffff81810219909216918416021790555b95945050505050565b606060008060008060006105a688611f73565b91509150816105b361237c565b60070160008a6001600160a01b03166001600160a01b0316815260200190815260200160002090805190602001906105ec929190614d8e565b50815181519095508067ffffffffffffffff81111561060d5761060d6151c8565b604051908082528060200260200182016040528015610636578160200160208202803683370190505b50965060005b818110156107d957600061064e61237c565b6009016000858481518110610665576106656151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff1660018111156106b2576106b26150bb565b60018111156106c3576106c36150bb565b815260200160018201548152602001600282015481526020016003820154815250509050600061072c8260200151868581518110610703576107036151de565b602002602001015161071361237c565b60008f8152600c91909101602052604090209190612469565b90506107718260200151868581518110610748576107486151de565b602002602001015161075861237c565b60008f8152600c91909101602052604090209190612524565b61077b908961520a565b97508060a001518761078d919061520a565b965080600001518a84815181106107a6576107a66151de565b602002602001019065ffffffffffff16908165ffffffffffff1681525050505080806107d190615222565b91505061063c565b5050505092959194509250565b60608060608367ffffffffffffffff811115610804576108046151c8565b60405190808252806020026020018201604052801561082d578160200160208202803683370190505b5092508367ffffffffffffffff811115610849576108496151c8565b604051908082528060200260200182016040528015610872578160200160208202803683370190505b5091508367ffffffffffffffff81111561088e5761088e6151c8565b6040519080825280602002602001820160405280156108b7578160200160208202803683370190505b50905060006108eb6108c761237c565b600b0160006108d461237c565b600301548152602001908152602001600020612561565b90508084600081518110610901576109016151de565b6020026020010181815250506109468161091961237c565b600b01600061092661237c565b6003015481526020019081526020016000206125a890919063ffffffff16565b83600081518110610959576109596151de565b60200260200101818152505061099e8161097161237c565b600b01600061097e61237c565b6003015481526020019081526020016000206125c190919063ffffffff16565b826000815181106109b1576109b16151de565b602090810291909101015260015b8451811015610a9157816109d257610a91565b610a0b826109de61237c565b600b0160006109eb61237c565b6003015481526020019081526020016000206125da90919063ffffffff16565b915081858281518110610a2057610a206151de565b602002602001018181525050610a388261091961237c565b848281518110610a4a57610a4a6151de565b602002602001018181525050610a628261097161237c565b838281518110610a7457610a746151de565b602090810291909101015280610a8981615222565b9150506109bf565b50509193909250565b600080610acc610aa861237c565b600c016000610ab561237c565b6003015481526020019081526020016000206126d4565b90508015610ada5780610ade565b6127105b91505090565b6000610aee614e43565b6000806001876001811115610b0557610b056150bb565b1415610b5b57610b4986866000610b1a61237c565b600b016000610b2761237c565b600301548152602001908152602001600020612716909392919063ffffffff16565b9397509295509350909150610bc09050565b6000876001811115610b6f57610b6f6150bb565b1415610bc057610bb386866000610b8461237c565b600c016000610b9161237c565b600301548152602001908152602001600020612a54909392919063ffffffff16565b9397509295509350909150505b93509350935093565b6000806000610bd661192b565b90506000610be2610a9a565b90506000610bf28361091961237c565b90506000610c0f83610c0261237c565b600c01600061092661237c565b90506000610c1b61237c565b600c016000610c2861237c565b60030154815260200190815260200160002090506000610c4661237c565b600b016000610c5361237c565b60030154815260200190815260200160002090505b858511158015610c785750600085115b8015610c845750600086115b15610d915782841115610cd7578597508287610ca0919061520a565b9650610cac838561523d565b9350610cb88286612d96565b60008181526001840160205260409020600501549095505b9250610c68565b82841015610d24578497508387610cee919061520a565b9650610cfa848461523d565b9250610d0681876125da565b60008181526001830160205260409020600501549096509350610c68565b6002610d30868861520a565b610d3a9190615254565b9750610d46848861520a565b9650610d5281876125da565b9550610d5e8286612d96565b60008781526001830160205260409020600501549095506000868152600184016020526040902060050154909450610cd0565b5050505050509091565b600080600080610da961237c565b65ffffffffffff861660009081526009919091016020526040908190208151608081019092528054829060ff166001811115610de757610de76150bb565b6001811115610df857610df86150bb565b81526001820154602082015260028201546040820152600390910154606090910152905060008082516001811115610e3257610e326150bb565b1415610eb357610e77826020015187610e4961237c565b600b016000610e5661237c565b600301548152602001908152602001600020612e909092919063ffffffff16565b9050610eae610e8461237c565b6001600160a01b03891660009081526006919091016020526040902065ffffffffffff8816612ea9565b610f23565b600182516001811115610ec857610ec86150bb565b1415610f2357610eec826020015187610edf61237c565b600c016000610e5661237c565b9050610f23610ef961237c565b6001600160a01b03891660009081526007919091016020526040902065ffffffffffff8816612ea9565b8151602090920151919450925090509250925092565b6000806000806000806000610f4c61237c565b65ffffffffffff891660009081526009919091016020526040908190208151608081019092528054829060ff166001811115610f8a57610f8a6150bb565b6001811115610f9b57610f9b6150bb565b815260200160018201548152602001600282015481526020016003820154815250509050610ff76040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915290565b60008251600181111561100c5761100c6150bb565b14156110475761104082602001518a61102361237c565b6040808701516000908152600b9290920160205290209190612469565b9050611078565b61107582602001518a61105861237c565b6040808701516000908152600c9290920160205290209190612469565b90505b60608101516001600160a01b0316156110bc5781600001518260200151836040015183606001518460a00151856080015197509750975097509750975050506110bf565b50505b91939550919395565b606060008060008060006110db88611395565b91509150816110e861237c565b60060160008a6001600160a01b03166001600160a01b031681526020019081526020016000209080519060200190611121929190614d8e565b50815181519095508067ffffffffffffffff811115611142576111426151c8565b60405190808252806020026020018201604052801561116b578160200160208202803683370190505b50965060005b818110156107d957600061118361237c565b600901600085848151811061119a5761119a6151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff1660018111156111e7576111e76150bb565b60018111156111f8576111f86150bb565b81526020016001820154815260200160028201548152602001600382015481525050905060006112618260200151868581518110611238576112386151de565b602002602001015161124861237c565b60008f8152600b91909101602052604090209190612469565b90506112a6826020015186858151811061127d5761127d6151de565b602002602001015161128d61237c565b60008f8152600b91909101602052604090209190612524565b6112b0908961520a565b97508060a00151876112c2919061520a565b965080600001518a84815181106112db576112db6151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250505050808061130690615222565b915050611171565b6000611318614e43565b600080600186600181111561132f5761132f6150bb565b14156113565761134460008087610b1a61237c565b939750929550909350915061138c9050565b600086600181111561136a5761136a6150bb565b141561138c5761137f60008087610b8461237c565b9397509295509093509150505b92959194509250565b60608060008060006113a561237c565b600301546113b161237c565b6001600160a01b038816600090815260089190910160205260409020541415905080611401576113df61237c565b6001600160a01b03871660009081526006919091016020526040902054611404565b60005b67ffffffffffffffff81111561141c5761141c6151c8565b604051908082528060200260200182016040528015611445578160200160208202803683370190505b50945061145061237c565b6001600160a01b0387166000908152600691909101602052604090205467ffffffffffffffff811115611485576114856151c8565b6040519080825280602002602001820160405280156114ae578160200160208202803683370190505b50935060005b6114bc61237c565b6001600160a01b038816600090815260069190910160205260409020548110156116e85760006114ea61237c565b6001600160a01b038916600090815260069190910160205260409020805483908110611518576115186151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff169050600061154c61237c565b65ffffffffffff831660009081526009919091016020526040908190208151608081019092528054829060ff16600181111561158a5761158a6150bb565b600181111561159b5761159b6150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506116218160200151836115d061237c565b600b0160006115dd61237c565b60080160008f6001600160a01b03166001600160a01b03168152602001908152602001600020548152602001908152602001600020612fff9092919063ffffffff16565b61167e5761163060018661520a565b9450818761163e888661523d565b8151811061164e5761164e6151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250508361167957600188510388525b6116d3565b836116cb5761168e60018761520a565b9550818861169c878661523d565b815181106116ac576116ac6151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250505b600187510387525b505080806116e090615222565b9150506114b4565b50505050915091565b60608060608367ffffffffffffffff81111561170f5761170f6151c8565b604051908082528060200260200182016040528015611738578160200160208202803683370190505b5092508367ffffffffffffffff811115611754576117546151c8565b60405190808252806020026020018201604052801561177d578160200160208202803683370190505b5091508367ffffffffffffffff811115611799576117996151c8565b6040519080825280602002602001820160405280156117c2578160200160208202803683370190505b50905060006117d2610aa861237c565b905080846000815181106117e8576117e86151de565b60200260200101818152505061180081610c0261237c565b83600081518110611813576118136151de565b6020026020010181815250506118388161182b61237c565b600c01600061097e61237c565b8260008151811061184b5761184b6151de565b602090810291909101015260015b8451811015610a91578161186c57610a91565b6118a58261187861237c565b600c01600061188561237c565b600301548152602001908152602001600020612d9690919063ffffffff16565b9150818582815181106118ba576118ba6151de565b6020026020010181815250506118d282610c0261237c565b8482815181106118e4576118e46151de565b6020026020010181815250506118fc8261182b61237c565b83828151811061190e5761190e6151de565b60209081029190910101528061192381615222565b915050611859565b60006119386108c761237c565b905090565b60008060008060008061194f87611f73565b9150915060005b8251811015611a8557600061196961237c565b6009016000858481518110611980576119806151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff1660018111156119cd576119cd6150bb565b60018111156119de576119de6150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506000611a5c8260200151868581518110611a1e57611a1e6151de565b6020026020010151611a2e61237c565b600c016000611a3b61237c565b6003015481526020019081526020016000206124699092919063ffffffff16565b90508060a0015189611a6e919061520a565b985050508080611a7d90615222565b915050611956565b50611a8e61237c565b6001600160a01b0388166000908152600891909101602052604081205493505b8151811015611c60576000611ac161237c565b6009016000848481518110611ad857611ad86151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff166001811115611b2557611b256150bb565b6001811115611b3657611b366150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506000611b868260200151858581518110611b7657611b766151de565b602002602001015161105861237c565b90508060a0015188611b98919061520a565b6020830151909850611ba861237c565b600a016000868681518110611bbf57611bbf6151de565b60209081029190910181015165ffffffffffff1682528101919091526040016000205460ff16151560011415611c22576000611bf961237c565b60040160008560400151815260200190815260200160002054905081811115611c20578091505b505b611c3e816127108460a00151611c389190615276565b9061301d565b611c48908961520a565b97505050508080611c5890615222565b915050611aae565b5050509193509193565b600080600080600080611c7c87611395565b91509150611c8861237c565b6001600160a01b0388166000908152600891909101602052604081205493505b8251811015611db6576000611cbb61237c565b6009016000858481518110611cd257611cd26151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff166001811115611d1f57611d1f6150bb565b6001811115611d3057611d306150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506000611d8d8260200151868581518110611d7057611d706151de565b6020026020010151611d8061237c565b600b016000611a3b61237c565b90508060a0015189611d9f919061520a565b985050508080611dae90615222565b915050611ca8565b5060005b8151811015611c60576000611dcd61237c565b6009016000848481518110611de457611de46151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff166001811115611e3157611e316150bb565b6001811115611e4257611e426150bb565b81526001820154602082015260028201546040820152600390910154606090910152905084611e7357806040015194505b6000611e9f8260200151858581518110611e8f57611e8f6151de565b602002602001015161102361237c565b90508060a0015188611eb1919061520a565b6020830151909850611ec161237c565b600a016000868681518110611ed857611ed86151de565b60209081029190910181015165ffffffffffff1682528101919091526040016000205460ff16151560011415611f3b576000611f1261237c565b60040160008560400151815260200190815260200160002054905081811015611f39578091505b505b611f51816127108460a00151611c389190615276565b611f5b908961520a565b97505050508080611f6b90615222565b915050611dba565b6060806000806000611f8361237c565b60030154611f8f61237c565b6001600160a01b038816600090815260089190910160205260409020541415905080611fdf57611fbd61237c565b6001600160a01b03871660009081526007919091016020526040902054611fe2565b60005b67ffffffffffffffff811115611ffa57611ffa6151c8565b604051908082528060200260200182016040528015612023578160200160208202803683370190505b50945061202e61237c565b6001600160a01b0387166000908152600791909101602052604090205467ffffffffffffffff811115612063576120636151c8565b60405190808252806020026020018201604052801561208c578160200160208202803683370190505b50935060005b61209a61237c565b6001600160a01b038816600090815260079190910160205260409020548110156116e85760006120c861237c565b6001600160a01b0389166000908152600791909101602052604090208054839081106120f6576120f66151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff169050600061212a61237c565b65ffffffffffff831660009081526009919091016020526040908190208151608081019092528054829060ff166001811115612168576121686150bb565b6001811115612179576121796150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506121bb8160200151836121ae61237c565b600c0160006115dd61237c565b612218576121ca60018661520a565b945081876121d8888661523d565b815181106121e8576121e86151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250508361221357600188510388525b61226d565b61222360018761520a565b955083612265578188612236878661523d565b81518110612246576122466151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250505b600187510387525b5050808061227a90615222565b915050612092565b60006001836001811115612298576122986150bb565b14156122de576122d7826122aa61237c565b600b0160006122b761237c565b60030154815260200190815260200160002061308790919063ffffffff16565b9050612317565b6122d7826122ea61237c565b600c0160006122f761237c565b60030154815260200190815260200160002061314390919063ffffffff16565b92915050565b600061232761237c565b600101805465ffffffffffff1690600061234083615295565b91906101000a81548165ffffffffffff021916908365ffffffffffff1602179055505061236b61237c565b6001015465ffffffffffff16919050565b7ffc2836757f9146445fc75bc3c897a210ec004e4ee60fc8627ef5cbf2842b3d0a90565b600082116123eb5760405162461bcd60e51b8152602060048201526013602482015272125b9cdd59999a58da595b9d08185b5bdd5b9d606a1b60448201526064015b60405180910390fd5b6127108511156124325760405162461bcd60e51b8152602060048201526012602482015271496e73756666696369656e742076616c756560701b60448201526064016123e2565b61243c86866131f7565b80156124545761244f86868686866133c7565b612461565b6124618686868686613440565b505050505050565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915250600082815260018085016020908152604080842065ffffffffffff80871686526006909101835293819020815160c08101835281548087168252600160301b8104871694820194909452600160601b90930490941690820152908201546001600160a01b031660608201526002820154608082015260039091015460a08201525b9392505050565b6000828152600184016020908152604080832065ffffffffffff851684526006019091528120600301546125599084906134b1565b949350505050565b80548061257057506000919050565b5b6000818152600183016020526040902060020154156125a3576000908152600182016020526040902060020154612571565b919050565b6000908152600191909101602052604090206005015490565b6000908152600191909101602052604090206004015490565b60008161264a5760405162461bcd60e51b815260206004820152603860248201527f4f7264657253746174697374696373547265652834303229202d205374617274604482015277696e672076616c75652063616e6e6f74206265207a65726f60401b60648201526084016123e2565b6000828152600180850160205260409091200154156126825760008281526001808501602052604090912001546122d79084906134c3565b5060008181526001830160205260409020545b80158015906126b65750600081815260018085016020526040909120015482145b15612317576000818152600184016020526040902054909150612695565b8054806126e357506000919050565b5b6000818152600180840160205260409091200154156125a35760009081526001808301602052604090912001546126e4565b600080600080612724614e43565b600061272f8a612561565b90506000808983101580612741575089155b6127885760405162461bcd60e51b8152602060048201526018602482015277496e73756666696369656e74206c696d69742076616c756560401b60448201526064016123e2565b6000805b8c83108061279857508c155b80156127ab57508a8810806127ab57508a155b80156127b657508415155b80156127ca57508b851015806127ca57508b155b1561288357600085815260018f01602052604090206005015493506127ef848461520a565b92508499506127fe85856134b1565b612808908961520a565b9750612814848a61520a565b98508c8311801561282457508c15155b15612846576128338d8461523d565b915061283f85836134b1565b9050612872565b8a8811801561285457508a15155b15612872576128638b8961523d565b905061286f8582613500565b91505b61287c8e866125da565b945061278c565b811561289657612893828a61523d565b98505b80156128a9576128a6818961523d565b97505b821561299c5781156128d3578994506128cc8e866128c7858861523d565b613512565b95506128f8565b80156128f8578994506128f58e866128eb8885613500565b6128c7908861523d565b95505b600085815260018f0160205260408120600281019190915554851561299a575b801561299a578581101561298457808f6001016000888152602001908152602001600020600001541461298057808f600101600088815260200190815260200160002060000181905550858f6001016000838152602001908152602001600020600201819055505b8095505b600090815260018f016020526040902054612918565b505b828d11156129b1576129ae838e61523d565b96505b60006129bc8f6126d4565b90508a811480156129e557508e6001016000828152602001908152602001600020600501546000145b156129f35760008f55612a3a565b8e548b1080612a0d57508e548b148015612a0d5750838a10155b15612a3a57858f6000018190555060008f6001016000888152602001908152602001600020600001819055505b612a438f6137b2565b505050505050945094509450945094565b600080600080612a62614e43565b6000612a6d8a6126d4565b90506000808983111580612a7f575089155b612ac65760405162461bcd60e51b8152602060048201526018602482015277496e73756666696369656e74206c696d69742076616c756560401b60448201526064016123e2565b6000805b8c831080612ad657508c155b8015612ae957508a881080612ae957508a155b8015612af457508415155b8015612b0857508b85111580612b0857508b155b15612bc157600085815260018f0160205260409020600501549350612b2d848461520a565b9250849950612b3c85856134b1565b612b46908961520a565b9750612b52848a61520a565b98508c83118015612b6257508c15155b15612b8457612b718d8461523d565b9150612b7d85836134b1565b9050612bb0565b8a88118015612b9257508a15155b15612bb057612ba18b8961523d565b9050612bad8582613500565b91505b612bba8e86612d96565b9450612aca565b8115612bd457612bd1828a61523d565b98505b8015612be757612be4818961523d565b97505b8215612cef578115612c0c57899450612c058e866128c7858861523d565b9550612c27565b8015612c2757899450612c248e866128eb8885613500565b95505b60008e60010160008781526020019081526020016000206001018190555060008e600101600087815260200190815260200160002060000154905060008614612ced575b8015612ced5785811115612cd757808f60010160008881526020019081526020016000206000015414612cd357808f600101600088815260200190815260200160002060000181905550858f6001016000838152602001908152602001600020600101819055505b8095505b600090815260018f016020526040902054612c6b565b505b828d1115612d0457612d01838e61523d565b96505b6000612d0f8f612561565b90508a81148015612d3857508e6001016000828152602001908152602001600020600501546000145b15612d465760008f55612d8d565b8e548b1180612d6057508e548b148015612d605750838a10155b15612d8d57858f6000018190555060008f6001016000888152602001908152602001600020600001819055505b612a438f613881565b600081612e065760405162461bcd60e51b815260206004820152603860248201527f4f7264657253746174697374696373547265652834303129202d205374617274604482015277696e672076616c75652063616e6e6f74206265207a65726f60401b60648201526084016123e2565b600082815260018401602052604090206002015415612e3e5760008281526001840160205260409020600201546122d7908490613910565b5060008181526001830160205260409020545b8015801590612e725750600081815260018401602052604090206002015482145b15612317576000818152600184016020526040902054909150612e51565b6000612e9d848484613948565b905061251d8484613bb4565b8154600090612eba9060019061523d565b905060005b818111612ff95782848281548110612ed957612ed96151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff1665ffffffffffff161415612fe757818114612fa0576000848381548110612f2a57612f2a6151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff16905080858381548110612f6757612f676151de565b90600052602060002090600591828204019190066006026101000a81548165ffffffffffff021916908365ffffffffffff160217905550505b83805480612fb057612fb06152bb565b60019003818190600052602060002090600591828204019190066006026101000a81549065ffffffffffff02191690559055612ff9565b80612ff181615222565b915050612ebf565b50505050565b600061300c848484613e71565b801561255957506125598484613fba565b600080821161302b57600080fd5b60056130378385615254565b61304290600a615276565b8361304e86600a615276565b6130589190615254565b613062919061523d565b1015613072576122d78284615254565b61307c8284615254565b6122d790600161520a565b60008061309384612561565b905060008092505b83811080156130a957508115155b1561313b576000828152600186016020526040812060050154906130cd84836134b1565b90506130d9818461520a565b92508583111561311b5760006130ef878561523d565b6130f9908361523d565b905061310982611c388386615276565b613113908761520a565b955050613128565b613125828661520a565b94505b61313287856125da565b9350505061309b565b505092915050565b60008061314f846126d4565b905060008092505b838110801561316557508115155b1561313b5760008281526001860160205260408120600501549061318984836134b1565b9050613195818461520a565b9250858311156131d75760006131ab878561523d565b6131b5908361523d565b90506131c582611c388386615276565b6131cf908761520a565b9550506131e4565b6131e1828661520a565b94505b6131ee8785612d96565b93505050613157565b8061326a5760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834303529202d2056616c756560448201527f20746f20696e736572742063616e6e6f74206265207a65726f0000000000000060648201526084016123e2565b81546000905b80156132ce578091508083101561329a576000908152600180850160205260409091200154613270565b808311156132bb576000908152600184016020526040902060020154613270565b808314156132c95750505050565b613270565b600083815260018501602052604090208454158061331d57506000838152600180870160205260409091200154841480159061331d575060008381526001860160205260409020600201548414155b1561334b576000600482018190556005820181905561333f9086908690614073565b61334b858560006140ab565b82815560006001808301829055600283019190915560038201805460ff191690911790558261337c578385556133b6565b8284101561339f57600083815260018087016020526040909120018490556133b6565b600083815260018601602052604090206002018490555b6133c085856140eb565b5050505050565b60008481526001860160205260408120906133e58787878787614356565b90506134098787838560030160019054906101000a900465ffffffffffff166144f5565b613414878783614073565b6003820154600160381b900465ffffffffffff16613437576134378787836140ab565b50505050505050565b600084815260018601602052604090206003810154610100900465ffffffffffff166134735761244f86868686866133c7565b60006134828787878787614356565b90506134a687878460030160079054906101000a900465ffffffffffff16846144f5565b6134378787836140ab565b600061251d83611c3861271085615276565b60005b6000828152600184016020526040902060020154156134fa57600091825260018301602052604090912060020154906134c6565b50919050565b600061251d612710611c388585615276565b61351a614e43565b6000838152600185016020526040902060058101548311156135a45760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834313029202d20416d6f756e60448201527f7420746f2066696c6c20697320696e73756666696369656e740000000000000060648201526084016123e2565b60038082015465ffffffffffff610100909104811660008181526006850160209081526040808320815160c08101835281548088168252600160301b8104881694820194909452600160601b9093049095169082015260018401546001600160a01b0316606082015260028401546080820152929093015460a0830152859291905b65ffffffffffff81161580159061363c57508315155b156137415765ffffffffffff8082166000908152600687016020908152604091829020825160c08101845281548086168252600160301b8104861693820193909352600160601b9092049093169181019190915260018201546001600160a01b031660608201526002820154608082015260039091015460a0820181905290925084106136e05760a08201516136d2908561523d565b93508160200151905061372f565b6040518060800160405280836000015165ffffffffffff16815260200183606001516001600160a01b03168152602001858460a00151613720919061523d565b81526020018990529550600093505b8261373981615222565b935050613626565b6137508989846000015161456a565b506040860151156137a657600088815260018a0160209081526040808320855165ffffffffffff168452600601909152808220908801516003820180549293919290919061379f90849061523d565b9091555050505b50505050509392505050565b805460009081526001820160205260409020600201541580156137e957508054600090815260018083016020526040909120015415155b15613842578054600090815260018083016020526040808320909101548252902060020154156138345780546000908152600180830160205260409091200154613834908290614750565b613842818260000154614828565b8054600090815260018201602052604090206003015460ff161561387e57805460009081526001820160205260409020600301805460ff191690555b50565b805460009081526001808301602052604090912001541580156138b857508054600090815260018201602052604090206002015415155b156138425780546000908152600180830160205260408083206002015483529091200154156139025780546000908152600182016020526040902060020154613902908290614828565b613842818260000154614750565b60005b6000828152600180850160205260409091200154156134fa576000918252600180840160205260409092209091015490613913565b6000613955848484612fff565b6139715760405162461bcd60e51b81526004016123e2906152d1565b50600082815260018085016020908152604080842065ffffffffffff80871680875260068301855295839020835160c08101855281548084168252600160301b8104841696820196909652600160601b909504821693850193909352938201546001600160a01b031660608401526002820154608084015260039182015460a084018190529181015491949093610100909204909116148015613a295750600382015465ffffffffffff858116600160381b90920416145b15613a4b57613a3a86866000614073565b613a46868660006140ab565b613b1d565b600382015465ffffffffffff858116610100909204161415613aa957613a7686868360200151614073565b60208082015165ffffffffffff1660009081526006840190915260409020805465ffffffffffff60601b19169055613b1d565b600382015465ffffffffffff858116600160381b909204161415613b0957613ad6868683604001516140ab565b60408082015165ffffffffffff166000908152600684016020522080546bffffffffffff00000000000019169055613b1d565b613b1d8686836040015184602001516144f5565b805165ffffffffffff1660009081526006830160205260408120805471ffffffffffffffffffffffffffffffffffff19168155600180820180546001600160a01b031916905560028201839055600390910182905560048401805491929091613b8790849061523d565b909155505060a0810151600583018054600090613ba590849061523d565b90915550929695505050505050565b80613c275760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834303729202d2056616c756560448201527f20746f2064656c6574652063616e6e6f74206265207a65726f0000000000000060648201526084016123e2565b60008181526001830160205260408120600481015490919081906133c05760008481526001808701602052604090912001541580613c7657506000848152600186016020526040902060020154155b15613c82575082613cca565b5060008381526001850160205260409020600201545b600081815260018087016020526040909120015415613cca576000908152600180860160205260409091200154613c98565b600081815260018087016020526040909120015415613cfe5760008181526001808701602052604090912001549150613d15565b600081815260018601602052604090206002015491505b60008181526001860160205260408082205484835291208190558015613d86576000818152600180880160205260409091200154821415613d6b5760008181526001808801602052604090912001839055613d8a565b60008181526001870160205260409020600201839055613d8a565b8286555b600082815260018701602052604090206003015460ff1615858314613e1457613db48784886148fd565b60008681526001888101602052604080832080830154878552828520938401819055845281842087905560028082015490840181905584529083208690556003908101549286905201805460ff191660ff90921615159190911790559194915b8015613e2457613e248785614974565b50506000818152600180870160205260408220828155908101829055600281018290556003810180546cffffffffffffffffffffffffff1916905560048101829055600501555050505050565b600082815260018085016020908152604080842065ffffffffffff808716808752600683018552838720845160c0810186528154808516808352600160301b8204861698830198909852600160601b900490931694830194909452948301546001600160a01b031660608201526002830154608082015260039092015460a08301528593909214613f08576000935050505061251d565b5b604081015165ffffffffffff1615613f9b5760409081015165ffffffffffff808216600090815260068501602090815290849020845160c08101865281548085168252600160301b8104851693820193909352600160601b9092049092169381019390935260018101546001600160a01b03166060840152600281015460808401526003015460a08301529250613f09565b5060030154610100900465ffffffffffff908116911614949350505050565b600081613fc957506000612317565b8254821415613fda57506001612317565b815b600081815260018501602052604090205415614069576000818152600180860160205260408083205480845292200154821480159061402e575060008181526001860160205260409020600201548214155b1561403e57600092505050612317565b845481141561405257600192505050612317565b506000908152600184016020526040902054613fdc565b5060009392505050565b6000918252600190920160205260409020600301805465ffffffffffff9092166101000266ffffffffffff0019909216919091179055565b6000918252600190920160205260409020600301805465ffffffffffff909216600160381b026cffffffffffff0000000000000019909216919091179055565b60005b825482148015906141185750600082815260018401602052604080822054825290206003015460ff165b1561433457600082815260018085016020526040808320548084528184205484529220015481141561423b5760008181526001850160205260408082205482528082206002015480835291206003015490925060ff16156141c1576000818152600180860160205260408083206003808201805460ff1990811690915587865283862082018054821690558254865292852001805490921690921790559082905254925061432e565b60008181526001850160205260409020600201548314156141e9578092506141e98484614750565b50600082815260018085016020526040808320548084528184206003808201805460ff19908116909155825487529386200180549093169093179091559182905254614236908590614828565b61432e565b6000818152600180860160205260408083205483528083209091015480835291206003015490925060ff16156142b9576000818152600180860160205260408083206003808201805460ff1990811690915587865283862082018054821690558254865292852001805490921690921790559082905254925061432e565b60008181526001808601602052604090912001548314156142e1578092506142e18484614828565b50600082815260018085016020526040808320548084528184206003808201805460ff1990811690915582548752938620018054909316909317909155918290525461432e908590614750565b506140ee565b505080546000908152600190910160205260409020600301805460ff19169055565b6000848152600186016020908152604080832065ffffffffffff8716845260068101909252822060020154156143e95760405162461bcd60e51b815260206004820152603260248201527f4f7264657253746174697374696373547265652834303929202d204f726465726044820152711034b21030b63932b0b23c9032bc34b9ba1760711b60648201526084016123e2565b60018160040160008282546143fe919061520a565b9250508190555082816005016000828254614419919061520a565b90915550506040805160c08101825265ffffffffffff808816808352600060208085018281528587018381526001600160a01b03808d16606089019081524260808a0190815260a08a018e81529787526006909b019094529790932095518654915193518616600160601b0265ffffffffffff60601b19948716600160301b026bffffffffffffffffffffffff199093169682169690961791909117929092169390931784559151600184018054919095166001600160a01b031990911617909355925160028201559051600390910155905095945050505050565b60009283526001939093016020908152604080842065ffffffffffff938416808652600690910190925280842080546bffffffffffff0000000000001916600160301b9490961693840295909517909455908252919020805465ffffffffffff60601b1916600160601b909202919091179055565b6000614577848484612fff565b6145935760405162461bcd60e51b81526004016123e2906152d1565b50600082815260018085016020908152604080842065ffffffffffff808716865260068201808552838720845160c08101865281548085168252600160301b8104851682890152600160601b9004841681870152818801546001600160a01b031660608201526002820154608082015260039182015460a08201819052828601546101009004909416808a529290965293909620909201549194909390915b8665ffffffffffff16831461469657600092835260068501602052604090922054600160301b900465ffffffffffff16918161466d81615222565b600085815260068801602052604090206003015490935061468f91508261520a565b9050614632565b600385015465ffffffffffff888116600160381b9092041614156146d1576146c089896000614073565b6146cc898960006140ab565b61470f565b6146e089898660200151614073565b60208085015165ffffffffffff1660009081526006870190915260409020805465ffffffffffff60601b191690555b81856004016000828254614723919061523d565b925050819055508085600501600082825461473e919061523d565b90915550959998505050505050505050565b60008181526001808401602052604080832060028101805491548286529285209093015493859052918390559091801561479857600081815260018601602052604090208490555b60008381526001860160205260409020829055816147b857828555614805565b60008281526001808701602052604090912001548414156147ee5760008281526001808701602052604090912001839055614805565b600082815260018601602052604090206002018390555b505060008181526001938401602052604080822090940183905591825291902055565b6000818152600180840160205260408083209182018054925483855291842060020154938590528390559091801561486e57600081815260018601602052604090208490555b600083815260018601602052604090208290558161488e578285556148db565b60008281526001860160205260409020600201548414156148c457600082815260018601602052604090206002018390556148db565b600082815260018087016020526040909120018390555b5050600081815260019093016020526040808420600201839055918352912055565b60008181526001840160205260408082205484835291208190558061492457828455612ff9565b600081815260018086016020526040909120015482141561495a5760008181526001808601602052604090912001839055612ff9565b600090815260019390930160205250604090912060020155565b60005b8254821480159061499c5750600082815260018401602052604090206003015460ff16155b15614d6f576000828152600180850160205260408083205480845292200154831415614b985760008181526001850160205260408082206002015480835291206003015490925060ff1615614a40576000828152600180860160205260408083206003908101805460ff19908116909155858552919093209092018054909216179055614a298482614750565b600081815260018501602052604090206002015491505b60008281526001808601602052604080832090910154825290206003015460ff16158015614a8b5750600082815260018501602052604080822060020154825290206003015460ff16155b15614ab857600082815260018581016020526040909120600301805460ff19169091179055915081614d69565b600082815260018501602052604080822060020154825290206003015460ff16614b35576000828152600180860160205260408083208083015484529083206003908101805460ff1990811690915593869052018054909216179055614b1e8483614828565b600081815260018501602052604090206002015491505b600081815260018501602052604080822060039081018054868552838520808401805460ff909316151560ff199384161790558254821690925560029091015484529190922090910180549091169055614b8f8482614750565b83549250614d69565b6000818152600180860160205260408083209091015480835291206003015490925060ff1615614c17576000828152600180860160205260408083206003908101805460ff19908116909155858552919093209092018054909216179055614c008482614828565b600081815260018086016020526040909120015491505b600082815260018501602052604080822060020154825290206003015460ff16158015614c62575060008281526001808601602052604080832090910154825290206003015460ff16155b15614c8f57600082815260018581016020526040909120600301805460ff19169091179055915081614d69565b60008281526001808601602052604080832090910154825290206003015460ff16614d0e57600082815260018086016020526040808320600281015484529083206003908101805460ff1990811690915593869052018054909216179055614cf78483614750565b600081815260018086016020526040909120015491505b60008181526001808601602052604080832060039081018054878652838620808401805460ff909316151560ff19938416179055825482169092559301548452922090910180549091169055614d648482614828565b835492505b50614977565b506000908152600190910160205260409020600301805460ff19169055565b82805482825590600052602060002090600401600590048101928215614e335791602002820160005b83821115614dff57835183826101000a81548165ffffffffffff021916908365ffffffffffff1602179055509260200192600601602081600501049283019260010302614db7565b8015614e315782816101000a81549065ffffffffffff0219169055600601602081600501049283019260010302614dff565b505b50614e3f929150614e7c565b5090565b6040518060800160405280600065ffffffffffff16815260200160006001600160a01b0316815260200160008152602001600081525090565b5b80821115614e3f5760008155600101614e7d565b8035600281106125a357600080fd5b80356001600160a01b03811681146125a357600080fd5b600080600080600060a08688031215614ecf57600080fd5b614ed886614e91565b9450614ee660208701614ea0565b9350604086013592506060860135915060808601358015158114614f0957600080fd5b809150509295509295909350565b60008060408385031215614f2a57600080fd5b614f3383614ea0565b946020939093013593505050565b600081518084526020808501945080840160005b83811015614f7957815165ffffffffffff1687529582019590820190600101614f55565b509495945050505050565b608081526000614f976080830187614f41565b6020830195909552506040810192909252606090910152919050565b600060208284031215614fc557600080fd5b5035919050565b600081518084526020808501945080840160005b83811015614f7957815187529582019590820190600101614fe0565b60608152600061500f6060830186614fcc565b82810360208401526150218186614fcc565b905082810360408401526150358185614fcc565b9695505050505050565b60008060006060848603121561505457600080fd5b61505d84614e91565b95602085013595506040909401359392505050565b803565ffffffffffff811681146125a357600080fd5b6000806040838503121561509b57600080fd5b6150a483614ea0565b91506150b260208401615072565b90509250929050565b634e487b7160e01b600052602160045260246000fd5b600281106150ef57634e487b7160e01b600052602160045260246000fd5b9052565b6060810161510182866150d1565b602082019390935260400152919050565b60006020828403121561512457600080fd5b61251d82615072565b60c0810161513b82896150d1565b602082019690965260408101949094526001600160a01b03929092166060840152608083015260a090910152919050565b6000806040838503121561517f57600080fd5b614f3383614e91565b60006020828403121561519a57600080fd5b61251d82614ea0565b6040815260006151b66040830185614f41565b828103602084015261058a8185614f41565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000821982111561521d5761521d6151f4565b500190565b6000600019821415615236576152366151f4565b5060010190565b60008282101561524f5761524f6151f4565b500390565b60008261527157634e487b7160e01b600052601260045260246000fd5b500490565b6000816000190483118215151615615290576152906151f4565b500290565b600065ffffffffffff808316818114156152b1576152b16151f4565b6001019392505050565b634e487b7160e01b600052603160045260246000fd5b60208082526030908201527f4f7264657253746174697374696373547265652834313029202d204f7264657260408201526f103237b2b9903737ba1032bc34b9ba1760811b60608201526080019056fea26469706673582212200a89ae6bf468c14a9312d77ee4d6461bba17a320711bc437ac4ae809815f4deb64736f6c63430008090033",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600436106101155760003560e01c8063914551f1116100ac578063e2afb0411161007b578063e2afb04114610314578063e3d904d81461031c578063e7df768c1461034f578063eebc28f914610362578063fa6127aa1461037557600080fd5b8063914551f1146102a05780639ca16952146102c0578063a452c3f8146102e0578063d866d3551461030157600080fd5b806363978ac8116100e857806363978ac8146101be5780636a2c42741461022f5780636c5db8431461024c5780637ce219aa1461027b57600080fd5b80633684d3ea1461011a5780634a53967b146101565780634bf62d1614610186578063614152b9146101a8575b600080fd5b81801561012657600080fd5b5061013a610135366004614eb7565b610388565b60405165ffffffffffff90911681526020015b60405180910390f35b81801561016257600080fd5b50610176610171366004614f17565b610593565b60405161014d9493929190614f84565b610199610194366004614fb3565b6107e6565b60405161014d93929190614ffc565b6101b0610a9a565b60405190815260200161014d565b8180156101ca57600080fd5b506101de6101d936600461503f565b610ae4565b60408051948552835165ffffffffffff166020808701919091528401516001600160a01b03168582015283015160608086019190915290920151608084015260a083015260c082015260e00161014d565b610237610bc9565b6040805192835260208301919091520161014d565b81801561025857600080fd5b5061026c610267366004615088565b610d9b565b60405161014d939291906150f3565b61028e610289366004615112565b610f39565b60405161014d9695949392919061512d565b8180156102ac57600080fd5b506101766102bb366004614f17565b6110c8565b8180156102cc57600080fd5b506101de6102db36600461516c565b61130e565b6102f36102ee366004615188565b611395565b60405161014d9291906151a3565b61019961030f366004614fb3565b6116f1565b6101b061192b565b61032f61032a366004615188565b61193d565b60408051948552602085019390935291830152606082015260800161014d565b61032f61035d366004615188565b611c6a565b6102f3610370366004615188565b611f73565b6101b061038336600461516c565b612282565b600061039261231d565b905060405180608001604052808760018111156103b1576103b16150bb565b81526020018481526020016103c461237c565b600301548152602001428152506103d961237c565b65ffffffffffff831660009081526009919091016020526040902081518154829060ff191660018381811115610411576104116150bb565b02179055506020820151600182015560408201516002820155606090910151600390910155600086600181111561044a5761044a6150bb565b14156104f557610491838287878661046061237c565b600b01600061046d61237c565b6003015481526020019081526020016000206123a09095949392919063ffffffff16565b61049961237c565b6001600160a01b03861660009081526006918201602090815260408220805460018101825590835291206005808304909101805465ffffffffffff808716939094069094026101000a918202929091021990921617905561058a565b6001866001811115610509576105096150bb565b141561058a5761052c838287878661051f61237c565b600c01600061046d61237c565b61053461237c565b6001600160a01b03861660009081526007919091016020908152604082208054600181018255908352912060058083049091018054919092066006026101000a65ffffffffffff81810219909216918416021790555b95945050505050565b606060008060008060006105a688611f73565b91509150816105b361237c565b60070160008a6001600160a01b03166001600160a01b0316815260200190815260200160002090805190602001906105ec929190614d8e565b50815181519095508067ffffffffffffffff81111561060d5761060d6151c8565b604051908082528060200260200182016040528015610636578160200160208202803683370190505b50965060005b818110156107d957600061064e61237c565b6009016000858481518110610665576106656151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff1660018111156106b2576106b26150bb565b60018111156106c3576106c36150bb565b815260200160018201548152602001600282015481526020016003820154815250509050600061072c8260200151868581518110610703576107036151de565b602002602001015161071361237c565b60008f8152600c91909101602052604090209190612469565b90506107718260200151868581518110610748576107486151de565b602002602001015161075861237c565b60008f8152600c91909101602052604090209190612524565b61077b908961520a565b97508060a001518761078d919061520a565b965080600001518a84815181106107a6576107a66151de565b602002602001019065ffffffffffff16908165ffffffffffff1681525050505080806107d190615222565b91505061063c565b5050505092959194509250565b60608060608367ffffffffffffffff811115610804576108046151c8565b60405190808252806020026020018201604052801561082d578160200160208202803683370190505b5092508367ffffffffffffffff811115610849576108496151c8565b604051908082528060200260200182016040528015610872578160200160208202803683370190505b5091508367ffffffffffffffff81111561088e5761088e6151c8565b6040519080825280602002602001820160405280156108b7578160200160208202803683370190505b50905060006108eb6108c761237c565b600b0160006108d461237c565b600301548152602001908152602001600020612561565b90508084600081518110610901576109016151de565b6020026020010181815250506109468161091961237c565b600b01600061092661237c565b6003015481526020019081526020016000206125a890919063ffffffff16565b83600081518110610959576109596151de565b60200260200101818152505061099e8161097161237c565b600b01600061097e61237c565b6003015481526020019081526020016000206125c190919063ffffffff16565b826000815181106109b1576109b16151de565b602090810291909101015260015b8451811015610a9157816109d257610a91565b610a0b826109de61237c565b600b0160006109eb61237c565b6003015481526020019081526020016000206125da90919063ffffffff16565b915081858281518110610a2057610a206151de565b602002602001018181525050610a388261091961237c565b848281518110610a4a57610a4a6151de565b602002602001018181525050610a628261097161237c565b838281518110610a7457610a746151de565b602090810291909101015280610a8981615222565b9150506109bf565b50509193909250565b600080610acc610aa861237c565b600c016000610ab561237c565b6003015481526020019081526020016000206126d4565b90508015610ada5780610ade565b6127105b91505090565b6000610aee614e43565b6000806001876001811115610b0557610b056150bb565b1415610b5b57610b4986866000610b1a61237c565b600b016000610b2761237c565b600301548152602001908152602001600020612716909392919063ffffffff16565b9397509295509350909150610bc09050565b6000876001811115610b6f57610b6f6150bb565b1415610bc057610bb386866000610b8461237c565b600c016000610b9161237c565b600301548152602001908152602001600020612a54909392919063ffffffff16565b9397509295509350909150505b93509350935093565b6000806000610bd661192b565b90506000610be2610a9a565b90506000610bf28361091961237c565b90506000610c0f83610c0261237c565b600c01600061092661237c565b90506000610c1b61237c565b600c016000610c2861237c565b60030154815260200190815260200160002090506000610c4661237c565b600b016000610c5361237c565b60030154815260200190815260200160002090505b858511158015610c785750600085115b8015610c845750600086115b15610d915782841115610cd7578597508287610ca0919061520a565b9650610cac838561523d565b9350610cb88286612d96565b60008181526001840160205260409020600501549095505b9250610c68565b82841015610d24578497508387610cee919061520a565b9650610cfa848461523d565b9250610d0681876125da565b60008181526001830160205260409020600501549096509350610c68565b6002610d30868861520a565b610d3a9190615254565b9750610d46848861520a565b9650610d5281876125da565b9550610d5e8286612d96565b60008781526001830160205260409020600501549095506000868152600184016020526040902060050154909450610cd0565b5050505050509091565b600080600080610da961237c565b65ffffffffffff861660009081526009919091016020526040908190208151608081019092528054829060ff166001811115610de757610de76150bb565b6001811115610df857610df86150bb565b81526001820154602082015260028201546040820152600390910154606090910152905060008082516001811115610e3257610e326150bb565b1415610eb357610e77826020015187610e4961237c565b600b016000610e5661237c565b600301548152602001908152602001600020612e909092919063ffffffff16565b9050610eae610e8461237c565b6001600160a01b03891660009081526006919091016020526040902065ffffffffffff8816612ea9565b610f23565b600182516001811115610ec857610ec86150bb565b1415610f2357610eec826020015187610edf61237c565b600c016000610e5661237c565b9050610f23610ef961237c565b6001600160a01b03891660009081526007919091016020526040902065ffffffffffff8816612ea9565b8151602090920151919450925090509250925092565b6000806000806000806000610f4c61237c565b65ffffffffffff891660009081526009919091016020526040908190208151608081019092528054829060ff166001811115610f8a57610f8a6150bb565b6001811115610f9b57610f9b6150bb565b815260200160018201548152602001600282015481526020016003820154815250509050610ff76040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915290565b60008251600181111561100c5761100c6150bb565b14156110475761104082602001518a61102361237c565b6040808701516000908152600b9290920160205290209190612469565b9050611078565b61107582602001518a61105861237c565b6040808701516000908152600c9290920160205290209190612469565b90505b60608101516001600160a01b0316156110bc5781600001518260200151836040015183606001518460a00151856080015197509750975097509750975050506110bf565b50505b91939550919395565b606060008060008060006110db88611395565b91509150816110e861237c565b60060160008a6001600160a01b03166001600160a01b031681526020019081526020016000209080519060200190611121929190614d8e565b50815181519095508067ffffffffffffffff811115611142576111426151c8565b60405190808252806020026020018201604052801561116b578160200160208202803683370190505b50965060005b818110156107d957600061118361237c565b600901600085848151811061119a5761119a6151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff1660018111156111e7576111e76150bb565b60018111156111f8576111f86150bb565b81526020016001820154815260200160028201548152602001600382015481525050905060006112618260200151868581518110611238576112386151de565b602002602001015161124861237c565b60008f8152600b91909101602052604090209190612469565b90506112a6826020015186858151811061127d5761127d6151de565b602002602001015161128d61237c565b60008f8152600b91909101602052604090209190612524565b6112b0908961520a565b97508060a00151876112c2919061520a565b965080600001518a84815181106112db576112db6151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250505050808061130690615222565b915050611171565b6000611318614e43565b600080600186600181111561132f5761132f6150bb565b14156113565761134460008087610b1a61237c565b939750929550909350915061138c9050565b600086600181111561136a5761136a6150bb565b141561138c5761137f60008087610b8461237c565b9397509295509093509150505b92959194509250565b60608060008060006113a561237c565b600301546113b161237c565b6001600160a01b038816600090815260089190910160205260409020541415905080611401576113df61237c565b6001600160a01b03871660009081526006919091016020526040902054611404565b60005b67ffffffffffffffff81111561141c5761141c6151c8565b604051908082528060200260200182016040528015611445578160200160208202803683370190505b50945061145061237c565b6001600160a01b0387166000908152600691909101602052604090205467ffffffffffffffff811115611485576114856151c8565b6040519080825280602002602001820160405280156114ae578160200160208202803683370190505b50935060005b6114bc61237c565b6001600160a01b038816600090815260069190910160205260409020548110156116e85760006114ea61237c565b6001600160a01b038916600090815260069190910160205260409020805483908110611518576115186151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff169050600061154c61237c565b65ffffffffffff831660009081526009919091016020526040908190208151608081019092528054829060ff16600181111561158a5761158a6150bb565b600181111561159b5761159b6150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506116218160200151836115d061237c565b600b0160006115dd61237c565b60080160008f6001600160a01b03166001600160a01b03168152602001908152602001600020548152602001908152602001600020612fff9092919063ffffffff16565b61167e5761163060018661520a565b9450818761163e888661523d565b8151811061164e5761164e6151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250508361167957600188510388525b6116d3565b836116cb5761168e60018761520a565b9550818861169c878661523d565b815181106116ac576116ac6151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250505b600187510387525b505080806116e090615222565b9150506114b4565b50505050915091565b60608060608367ffffffffffffffff81111561170f5761170f6151c8565b604051908082528060200260200182016040528015611738578160200160208202803683370190505b5092508367ffffffffffffffff811115611754576117546151c8565b60405190808252806020026020018201604052801561177d578160200160208202803683370190505b5091508367ffffffffffffffff811115611799576117996151c8565b6040519080825280602002602001820160405280156117c2578160200160208202803683370190505b50905060006117d2610aa861237c565b905080846000815181106117e8576117e86151de565b60200260200101818152505061180081610c0261237c565b83600081518110611813576118136151de565b6020026020010181815250506118388161182b61237c565b600c01600061097e61237c565b8260008151811061184b5761184b6151de565b602090810291909101015260015b8451811015610a91578161186c57610a91565b6118a58261187861237c565b600c01600061188561237c565b600301548152602001908152602001600020612d9690919063ffffffff16565b9150818582815181106118ba576118ba6151de565b6020026020010181815250506118d282610c0261237c565b8482815181106118e4576118e46151de565b6020026020010181815250506118fc8261182b61237c565b83828151811061190e5761190e6151de565b60209081029190910101528061192381615222565b915050611859565b60006119386108c761237c565b905090565b60008060008060008061194f87611f73565b9150915060005b8251811015611a8557600061196961237c565b6009016000858481518110611980576119806151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff1660018111156119cd576119cd6150bb565b60018111156119de576119de6150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506000611a5c8260200151868581518110611a1e57611a1e6151de565b6020026020010151611a2e61237c565b600c016000611a3b61237c565b6003015481526020019081526020016000206124699092919063ffffffff16565b90508060a0015189611a6e919061520a565b985050508080611a7d90615222565b915050611956565b50611a8e61237c565b6001600160a01b0388166000908152600891909101602052604081205493505b8151811015611c60576000611ac161237c565b6009016000848481518110611ad857611ad86151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff166001811115611b2557611b256150bb565b6001811115611b3657611b366150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506000611b868260200151858581518110611b7657611b766151de565b602002602001015161105861237c565b90508060a0015188611b98919061520a565b6020830151909850611ba861237c565b600a016000868681518110611bbf57611bbf6151de565b60209081029190910181015165ffffffffffff1682528101919091526040016000205460ff16151560011415611c22576000611bf961237c565b60040160008560400151815260200190815260200160002054905081811115611c20578091505b505b611c3e816127108460a00151611c389190615276565b9061301d565b611c48908961520a565b97505050508080611c5890615222565b915050611aae565b5050509193509193565b600080600080600080611c7c87611395565b91509150611c8861237c565b6001600160a01b0388166000908152600891909101602052604081205493505b8251811015611db6576000611cbb61237c565b6009016000858481518110611cd257611cd26151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff166001811115611d1f57611d1f6150bb565b6001811115611d3057611d306150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506000611d8d8260200151868581518110611d7057611d706151de565b6020026020010151611d8061237c565b600b016000611a3b61237c565b90508060a0015189611d9f919061520a565b985050508080611dae90615222565b915050611ca8565b5060005b8151811015611c60576000611dcd61237c565b6009016000848481518110611de457611de46151de565b602002602001015165ffffffffffff1681526020019081526020016000206040518060800160405290816000820160009054906101000a900460ff166001811115611e3157611e316150bb565b6001811115611e4257611e426150bb565b81526001820154602082015260028201546040820152600390910154606090910152905084611e7357806040015194505b6000611e9f8260200151858581518110611e8f57611e8f6151de565b602002602001015161102361237c565b90508060a0015188611eb1919061520a565b6020830151909850611ec161237c565b600a016000868681518110611ed857611ed86151de565b60209081029190910181015165ffffffffffff1682528101919091526040016000205460ff16151560011415611f3b576000611f1261237c565b60040160008560400151815260200190815260200160002054905081811015611f39578091505b505b611f51816127108460a00151611c389190615276565b611f5b908961520a565b97505050508080611f6b90615222565b915050611dba565b6060806000806000611f8361237c565b60030154611f8f61237c565b6001600160a01b038816600090815260089190910160205260409020541415905080611fdf57611fbd61237c565b6001600160a01b03871660009081526007919091016020526040902054611fe2565b60005b67ffffffffffffffff811115611ffa57611ffa6151c8565b604051908082528060200260200182016040528015612023578160200160208202803683370190505b50945061202e61237c565b6001600160a01b0387166000908152600791909101602052604090205467ffffffffffffffff811115612063576120636151c8565b60405190808252806020026020018201604052801561208c578160200160208202803683370190505b50935060005b61209a61237c565b6001600160a01b038816600090815260079190910160205260409020548110156116e85760006120c861237c565b6001600160a01b0389166000908152600791909101602052604090208054839081106120f6576120f66151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff169050600061212a61237c565b65ffffffffffff831660009081526009919091016020526040908190208151608081019092528054829060ff166001811115612168576121686150bb565b6001811115612179576121796150bb565b8152602001600182015481526020016002820154815260200160038201548152505090506121bb8160200151836121ae61237c565b600c0160006115dd61237c565b612218576121ca60018661520a565b945081876121d8888661523d565b815181106121e8576121e86151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250508361221357600188510388525b61226d565b61222360018761520a565b955083612265578188612236878661523d565b81518110612246576122466151de565b602002602001019065ffffffffffff16908165ffffffffffff16815250505b600187510387525b5050808061227a90615222565b915050612092565b60006001836001811115612298576122986150bb565b14156122de576122d7826122aa61237c565b600b0160006122b761237c565b60030154815260200190815260200160002061308790919063ffffffff16565b9050612317565b6122d7826122ea61237c565b600c0160006122f761237c565b60030154815260200190815260200160002061314390919063ffffffff16565b92915050565b600061232761237c565b600101805465ffffffffffff1690600061234083615295565b91906101000a81548165ffffffffffff021916908365ffffffffffff1602179055505061236b61237c565b6001015465ffffffffffff16919050565b7ffc2836757f9146445fc75bc3c897a210ec004e4ee60fc8627ef5cbf2842b3d0a90565b600082116123eb5760405162461bcd60e51b8152602060048201526013602482015272125b9cdd59999a58da595b9d08185b5bdd5b9d606a1b60448201526064015b60405180910390fd5b6127108511156124325760405162461bcd60e51b8152602060048201526012602482015271496e73756666696369656e742076616c756560701b60448201526064016123e2565b61243c86866131f7565b80156124545761244f86868686866133c7565b612461565b6124618686868686613440565b505050505050565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915250600082815260018085016020908152604080842065ffffffffffff80871686526006909101835293819020815160c08101835281548087168252600160301b8104871694820194909452600160601b90930490941690820152908201546001600160a01b031660608201526002820154608082015260039091015460a08201525b9392505050565b6000828152600184016020908152604080832065ffffffffffff851684526006019091528120600301546125599084906134b1565b949350505050565b80548061257057506000919050565b5b6000818152600183016020526040902060020154156125a3576000908152600182016020526040902060020154612571565b919050565b6000908152600191909101602052604090206005015490565b6000908152600191909101602052604090206004015490565b60008161264a5760405162461bcd60e51b815260206004820152603860248201527f4f7264657253746174697374696373547265652834303229202d205374617274604482015277696e672076616c75652063616e6e6f74206265207a65726f60401b60648201526084016123e2565b6000828152600180850160205260409091200154156126825760008281526001808501602052604090912001546122d79084906134c3565b5060008181526001830160205260409020545b80158015906126b65750600081815260018085016020526040909120015482145b15612317576000818152600184016020526040902054909150612695565b8054806126e357506000919050565b5b6000818152600180840160205260409091200154156125a35760009081526001808301602052604090912001546126e4565b600080600080612724614e43565b600061272f8a612561565b90506000808983101580612741575089155b6127885760405162461bcd60e51b8152602060048201526018602482015277496e73756666696369656e74206c696d69742076616c756560401b60448201526064016123e2565b6000805b8c83108061279857508c155b80156127ab57508a8810806127ab57508a155b80156127b657508415155b80156127ca57508b851015806127ca57508b155b1561288357600085815260018f01602052604090206005015493506127ef848461520a565b92508499506127fe85856134b1565b612808908961520a565b9750612814848a61520a565b98508c8311801561282457508c15155b15612846576128338d8461523d565b915061283f85836134b1565b9050612872565b8a8811801561285457508a15155b15612872576128638b8961523d565b905061286f8582613500565b91505b61287c8e866125da565b945061278c565b811561289657612893828a61523d565b98505b80156128a9576128a6818961523d565b97505b821561299c5781156128d3578994506128cc8e866128c7858861523d565b613512565b95506128f8565b80156128f8578994506128f58e866128eb8885613500565b6128c7908861523d565b95505b600085815260018f0160205260408120600281019190915554851561299a575b801561299a578581101561298457808f6001016000888152602001908152602001600020600001541461298057808f600101600088815260200190815260200160002060000181905550858f6001016000838152602001908152602001600020600201819055505b8095505b600090815260018f016020526040902054612918565b505b828d11156129b1576129ae838e61523d565b96505b60006129bc8f6126d4565b90508a811480156129e557508e6001016000828152602001908152602001600020600501546000145b156129f35760008f55612a3a565b8e548b1080612a0d57508e548b148015612a0d5750838a10155b15612a3a57858f6000018190555060008f6001016000888152602001908152602001600020600001819055505b612a438f6137b2565b505050505050945094509450945094565b600080600080612a62614e43565b6000612a6d8a6126d4565b90506000808983111580612a7f575089155b612ac65760405162461bcd60e51b8152602060048201526018602482015277496e73756666696369656e74206c696d69742076616c756560401b60448201526064016123e2565b6000805b8c831080612ad657508c155b8015612ae957508a881080612ae957508a155b8015612af457508415155b8015612b0857508b85111580612b0857508b155b15612bc157600085815260018f0160205260409020600501549350612b2d848461520a565b9250849950612b3c85856134b1565b612b46908961520a565b9750612b52848a61520a565b98508c83118015612b6257508c15155b15612b8457612b718d8461523d565b9150612b7d85836134b1565b9050612bb0565b8a88118015612b9257508a15155b15612bb057612ba18b8961523d565b9050612bad8582613500565b91505b612bba8e86612d96565b9450612aca565b8115612bd457612bd1828a61523d565b98505b8015612be757612be4818961523d565b97505b8215612cef578115612c0c57899450612c058e866128c7858861523d565b9550612c27565b8015612c2757899450612c248e866128eb8885613500565b95505b60008e60010160008781526020019081526020016000206001018190555060008e600101600087815260200190815260200160002060000154905060008614612ced575b8015612ced5785811115612cd757808f60010160008881526020019081526020016000206000015414612cd357808f600101600088815260200190815260200160002060000181905550858f6001016000838152602001908152602001600020600101819055505b8095505b600090815260018f016020526040902054612c6b565b505b828d1115612d0457612d01838e61523d565b96505b6000612d0f8f612561565b90508a81148015612d3857508e6001016000828152602001908152602001600020600501546000145b15612d465760008f55612d8d565b8e548b1180612d6057508e548b148015612d605750838a10155b15612d8d57858f6000018190555060008f6001016000888152602001908152602001600020600001819055505b612a438f613881565b600081612e065760405162461bcd60e51b815260206004820152603860248201527f4f7264657253746174697374696373547265652834303129202d205374617274604482015277696e672076616c75652063616e6e6f74206265207a65726f60401b60648201526084016123e2565b600082815260018401602052604090206002015415612e3e5760008281526001840160205260409020600201546122d7908490613910565b5060008181526001830160205260409020545b8015801590612e725750600081815260018401602052604090206002015482145b15612317576000818152600184016020526040902054909150612e51565b6000612e9d848484613948565b905061251d8484613bb4565b8154600090612eba9060019061523d565b905060005b818111612ff95782848281548110612ed957612ed96151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff1665ffffffffffff161415612fe757818114612fa0576000848381548110612f2a57612f2a6151de565b90600052602060002090600591828204019190066006029054906101000a900465ffffffffffff16905080858381548110612f6757612f676151de565b90600052602060002090600591828204019190066006026101000a81548165ffffffffffff021916908365ffffffffffff160217905550505b83805480612fb057612fb06152bb565b60019003818190600052602060002090600591828204019190066006026101000a81549065ffffffffffff02191690559055612ff9565b80612ff181615222565b915050612ebf565b50505050565b600061300c848484613e71565b801561255957506125598484613fba565b600080821161302b57600080fd5b60056130378385615254565b61304290600a615276565b8361304e86600a615276565b6130589190615254565b613062919061523d565b1015613072576122d78284615254565b61307c8284615254565b6122d790600161520a565b60008061309384612561565b905060008092505b83811080156130a957508115155b1561313b576000828152600186016020526040812060050154906130cd84836134b1565b90506130d9818461520a565b92508583111561311b5760006130ef878561523d565b6130f9908361523d565b905061310982611c388386615276565b613113908761520a565b955050613128565b613125828661520a565b94505b61313287856125da565b9350505061309b565b505092915050565b60008061314f846126d4565b905060008092505b838110801561316557508115155b1561313b5760008281526001860160205260408120600501549061318984836134b1565b9050613195818461520a565b9250858311156131d75760006131ab878561523d565b6131b5908361523d565b90506131c582611c388386615276565b6131cf908761520a565b9550506131e4565b6131e1828661520a565b94505b6131ee8785612d96565b93505050613157565b8061326a5760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834303529202d2056616c756560448201527f20746f20696e736572742063616e6e6f74206265207a65726f0000000000000060648201526084016123e2565b81546000905b80156132ce578091508083101561329a576000908152600180850160205260409091200154613270565b808311156132bb576000908152600184016020526040902060020154613270565b808314156132c95750505050565b613270565b600083815260018501602052604090208454158061331d57506000838152600180870160205260409091200154841480159061331d575060008381526001860160205260409020600201548414155b1561334b576000600482018190556005820181905561333f9086908690614073565b61334b858560006140ab565b82815560006001808301829055600283019190915560038201805460ff191690911790558261337c578385556133b6565b8284101561339f57600083815260018087016020526040909120018490556133b6565b600083815260018601602052604090206002018490555b6133c085856140eb565b5050505050565b60008481526001860160205260408120906133e58787878787614356565b90506134098787838560030160019054906101000a900465ffffffffffff166144f5565b613414878783614073565b6003820154600160381b900465ffffffffffff16613437576134378787836140ab565b50505050505050565b600084815260018601602052604090206003810154610100900465ffffffffffff166134735761244f86868686866133c7565b60006134828787878787614356565b90506134a687878460030160079054906101000a900465ffffffffffff16846144f5565b6134378787836140ab565b600061251d83611c3861271085615276565b60005b6000828152600184016020526040902060020154156134fa57600091825260018301602052604090912060020154906134c6565b50919050565b600061251d612710611c388585615276565b61351a614e43565b6000838152600185016020526040902060058101548311156135a45760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834313029202d20416d6f756e60448201527f7420746f2066696c6c20697320696e73756666696369656e740000000000000060648201526084016123e2565b60038082015465ffffffffffff610100909104811660008181526006850160209081526040808320815160c08101835281548088168252600160301b8104881694820194909452600160601b9093049095169082015260018401546001600160a01b0316606082015260028401546080820152929093015460a0830152859291905b65ffffffffffff81161580159061363c57508315155b156137415765ffffffffffff8082166000908152600687016020908152604091829020825160c08101845281548086168252600160301b8104861693820193909352600160601b9092049093169181019190915260018201546001600160a01b031660608201526002820154608082015260039091015460a0820181905290925084106136e05760a08201516136d2908561523d565b93508160200151905061372f565b6040518060800160405280836000015165ffffffffffff16815260200183606001516001600160a01b03168152602001858460a00151613720919061523d565b81526020018990529550600093505b8261373981615222565b935050613626565b6137508989846000015161456a565b506040860151156137a657600088815260018a0160209081526040808320855165ffffffffffff168452600601909152808220908801516003820180549293919290919061379f90849061523d565b9091555050505b50505050509392505050565b805460009081526001820160205260409020600201541580156137e957508054600090815260018083016020526040909120015415155b15613842578054600090815260018083016020526040808320909101548252902060020154156138345780546000908152600180830160205260409091200154613834908290614750565b613842818260000154614828565b8054600090815260018201602052604090206003015460ff161561387e57805460009081526001820160205260409020600301805460ff191690555b50565b805460009081526001808301602052604090912001541580156138b857508054600090815260018201602052604090206002015415155b156138425780546000908152600180830160205260408083206002015483529091200154156139025780546000908152600182016020526040902060020154613902908290614828565b613842818260000154614750565b60005b6000828152600180850160205260409091200154156134fa576000918252600180840160205260409092209091015490613913565b6000613955848484612fff565b6139715760405162461bcd60e51b81526004016123e2906152d1565b50600082815260018085016020908152604080842065ffffffffffff80871680875260068301855295839020835160c08101855281548084168252600160301b8104841696820196909652600160601b909504821693850193909352938201546001600160a01b031660608401526002820154608084015260039182015460a084018190529181015491949093610100909204909116148015613a295750600382015465ffffffffffff858116600160381b90920416145b15613a4b57613a3a86866000614073565b613a46868660006140ab565b613b1d565b600382015465ffffffffffff858116610100909204161415613aa957613a7686868360200151614073565b60208082015165ffffffffffff1660009081526006840190915260409020805465ffffffffffff60601b19169055613b1d565b600382015465ffffffffffff858116600160381b909204161415613b0957613ad6868683604001516140ab565b60408082015165ffffffffffff166000908152600684016020522080546bffffffffffff00000000000019169055613b1d565b613b1d8686836040015184602001516144f5565b805165ffffffffffff1660009081526006830160205260408120805471ffffffffffffffffffffffffffffffffffff19168155600180820180546001600160a01b031916905560028201839055600390910182905560048401805491929091613b8790849061523d565b909155505060a0810151600583018054600090613ba590849061523d565b90915550929695505050505050565b80613c275760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834303729202d2056616c756560448201527f20746f2064656c6574652063616e6e6f74206265207a65726f0000000000000060648201526084016123e2565b60008181526001830160205260408120600481015490919081906133c05760008481526001808701602052604090912001541580613c7657506000848152600186016020526040902060020154155b15613c82575082613cca565b5060008381526001850160205260409020600201545b600081815260018087016020526040909120015415613cca576000908152600180860160205260409091200154613c98565b600081815260018087016020526040909120015415613cfe5760008181526001808701602052604090912001549150613d15565b600081815260018601602052604090206002015491505b60008181526001860160205260408082205484835291208190558015613d86576000818152600180880160205260409091200154821415613d6b5760008181526001808801602052604090912001839055613d8a565b60008181526001870160205260409020600201839055613d8a565b8286555b600082815260018701602052604090206003015460ff1615858314613e1457613db48784886148fd565b60008681526001888101602052604080832080830154878552828520938401819055845281842087905560028082015490840181905584529083208690556003908101549286905201805460ff191660ff90921615159190911790559194915b8015613e2457613e248785614974565b50506000818152600180870160205260408220828155908101829055600281018290556003810180546cffffffffffffffffffffffffff1916905560048101829055600501555050505050565b600082815260018085016020908152604080842065ffffffffffff808716808752600683018552838720845160c0810186528154808516808352600160301b8204861698830198909852600160601b900490931694830194909452948301546001600160a01b031660608201526002830154608082015260039092015460a08301528593909214613f08576000935050505061251d565b5b604081015165ffffffffffff1615613f9b5760409081015165ffffffffffff808216600090815260068501602090815290849020845160c08101865281548085168252600160301b8104851693820193909352600160601b9092049092169381019390935260018101546001600160a01b03166060840152600281015460808401526003015460a08301529250613f09565b5060030154610100900465ffffffffffff908116911614949350505050565b600081613fc957506000612317565b8254821415613fda57506001612317565b815b600081815260018501602052604090205415614069576000818152600180860160205260408083205480845292200154821480159061402e575060008181526001860160205260409020600201548214155b1561403e57600092505050612317565b845481141561405257600192505050612317565b506000908152600184016020526040902054613fdc565b5060009392505050565b6000918252600190920160205260409020600301805465ffffffffffff9092166101000266ffffffffffff0019909216919091179055565b6000918252600190920160205260409020600301805465ffffffffffff909216600160381b026cffffffffffff0000000000000019909216919091179055565b60005b825482148015906141185750600082815260018401602052604080822054825290206003015460ff165b1561433457600082815260018085016020526040808320548084528184205484529220015481141561423b5760008181526001850160205260408082205482528082206002015480835291206003015490925060ff16156141c1576000818152600180860160205260408083206003808201805460ff1990811690915587865283862082018054821690558254865292852001805490921690921790559082905254925061432e565b60008181526001850160205260409020600201548314156141e9578092506141e98484614750565b50600082815260018085016020526040808320548084528184206003808201805460ff19908116909155825487529386200180549093169093179091559182905254614236908590614828565b61432e565b6000818152600180860160205260408083205483528083209091015480835291206003015490925060ff16156142b9576000818152600180860160205260408083206003808201805460ff1990811690915587865283862082018054821690558254865292852001805490921690921790559082905254925061432e565b60008181526001808601602052604090912001548314156142e1578092506142e18484614828565b50600082815260018085016020526040808320548084528184206003808201805460ff1990811690915582548752938620018054909316909317909155918290525461432e908590614750565b506140ee565b505080546000908152600190910160205260409020600301805460ff19169055565b6000848152600186016020908152604080832065ffffffffffff8716845260068101909252822060020154156143e95760405162461bcd60e51b815260206004820152603260248201527f4f7264657253746174697374696373547265652834303929202d204f726465726044820152711034b21030b63932b0b23c9032bc34b9ba1760711b60648201526084016123e2565b60018160040160008282546143fe919061520a565b9250508190555082816005016000828254614419919061520a565b90915550506040805160c08101825265ffffffffffff808816808352600060208085018281528587018381526001600160a01b03808d16606089019081524260808a0190815260a08a018e81529787526006909b019094529790932095518654915193518616600160601b0265ffffffffffff60601b19948716600160301b026bffffffffffffffffffffffff199093169682169690961791909117929092169390931784559151600184018054919095166001600160a01b031990911617909355925160028201559051600390910155905095945050505050565b60009283526001939093016020908152604080842065ffffffffffff938416808652600690910190925280842080546bffffffffffff0000000000001916600160301b9490961693840295909517909455908252919020805465ffffffffffff60601b1916600160601b909202919091179055565b6000614577848484612fff565b6145935760405162461bcd60e51b81526004016123e2906152d1565b50600082815260018085016020908152604080842065ffffffffffff808716865260068201808552838720845160c08101865281548085168252600160301b8104851682890152600160601b9004841681870152818801546001600160a01b031660608201526002820154608082015260039182015460a08201819052828601546101009004909416808a529290965293909620909201549194909390915b8665ffffffffffff16831461469657600092835260068501602052604090922054600160301b900465ffffffffffff16918161466d81615222565b600085815260068801602052604090206003015490935061468f91508261520a565b9050614632565b600385015465ffffffffffff888116600160381b9092041614156146d1576146c089896000614073565b6146cc898960006140ab565b61470f565b6146e089898660200151614073565b60208085015165ffffffffffff1660009081526006870190915260409020805465ffffffffffff60601b191690555b81856004016000828254614723919061523d565b925050819055508085600501600082825461473e919061523d565b90915550959998505050505050505050565b60008181526001808401602052604080832060028101805491548286529285209093015493859052918390559091801561479857600081815260018601602052604090208490555b60008381526001860160205260409020829055816147b857828555614805565b60008281526001808701602052604090912001548414156147ee5760008281526001808701602052604090912001839055614805565b600082815260018601602052604090206002018390555b505060008181526001938401602052604080822090940183905591825291902055565b6000818152600180840160205260408083209182018054925483855291842060020154938590528390559091801561486e57600081815260018601602052604090208490555b600083815260018601602052604090208290558161488e578285556148db565b60008281526001860160205260409020600201548414156148c457600082815260018601602052604090206002018390556148db565b600082815260018087016020526040909120018390555b5050600081815260019093016020526040808420600201839055918352912055565b60008181526001840160205260408082205484835291208190558061492457828455612ff9565b600081815260018086016020526040909120015482141561495a5760008181526001808601602052604090912001839055612ff9565b600090815260019390930160205250604090912060020155565b60005b8254821480159061499c5750600082815260018401602052604090206003015460ff16155b15614d6f576000828152600180850160205260408083205480845292200154831415614b985760008181526001850160205260408082206002015480835291206003015490925060ff1615614a40576000828152600180860160205260408083206003908101805460ff19908116909155858552919093209092018054909216179055614a298482614750565b600081815260018501602052604090206002015491505b60008281526001808601602052604080832090910154825290206003015460ff16158015614a8b5750600082815260018501602052604080822060020154825290206003015460ff16155b15614ab857600082815260018581016020526040909120600301805460ff19169091179055915081614d69565b600082815260018501602052604080822060020154825290206003015460ff16614b35576000828152600180860160205260408083208083015484529083206003908101805460ff1990811690915593869052018054909216179055614b1e8483614828565b600081815260018501602052604090206002015491505b600081815260018501602052604080822060039081018054868552838520808401805460ff909316151560ff199384161790558254821690925560029091015484529190922090910180549091169055614b8f8482614750565b83549250614d69565b6000818152600180860160205260408083209091015480835291206003015490925060ff1615614c17576000828152600180860160205260408083206003908101805460ff19908116909155858552919093209092018054909216179055614c008482614828565b600081815260018086016020526040909120015491505b600082815260018501602052604080822060020154825290206003015460ff16158015614c62575060008281526001808601602052604080832090910154825290206003015460ff16155b15614c8f57600082815260018581016020526040909120600301805460ff19169091179055915081614d69565b60008281526001808601602052604080832090910154825290206003015460ff16614d0e57600082815260018086016020526040808320600281015484529083206003908101805460ff1990811690915593869052018054909216179055614cf78483614750565b600081815260018086016020526040909120015491505b60008181526001808601602052604080832060039081018054878652838620808401805460ff909316151560ff19938416179055825482169092559301548452922090910180549091169055614d648482614828565b835492505b50614977565b506000908152600190910160205260409020600301805460ff19169055565b82805482825590600052602060002090600401600590048101928215614e335791602002820160005b83821115614dff57835183826101000a81548165ffffffffffff021916908365ffffffffffff1602179055509260200192600601602081600501049283019260010302614db7565b8015614e315782816101000a81549065ffffffffffff0219169055600601602081600501049283019260010302614dff565b505b50614e3f929150614e7c565b5090565b6040518060800160405280600065ffffffffffff16815260200160006001600160a01b0316815260200160008152602001600081525090565b5b80821115614e3f5760008155600101614e7d565b8035600281106125a357600080fd5b80356001600160a01b03811681146125a357600080fd5b600080600080600060a08688031215614ecf57600080fd5b614ed886614e91565b9450614ee660208701614ea0565b9350604086013592506060860135915060808601358015158114614f0957600080fd5b809150509295509295909350565b60008060408385031215614f2a57600080fd5b614f3383614ea0565b946020939093013593505050565b600081518084526020808501945080840160005b83811015614f7957815165ffffffffffff1687529582019590820190600101614f55565b509495945050505050565b608081526000614f976080830187614f41565b6020830195909552506040810192909252606090910152919050565b600060208284031215614fc557600080fd5b5035919050565b600081518084526020808501945080840160005b83811015614f7957815187529582019590820190600101614fe0565b60608152600061500f6060830186614fcc565b82810360208401526150218186614fcc565b905082810360408401526150358185614fcc565b9695505050505050565b60008060006060848603121561505457600080fd5b61505d84614e91565b95602085013595506040909401359392505050565b803565ffffffffffff811681146125a357600080fd5b6000806040838503121561509b57600080fd5b6150a483614ea0565b91506150b260208401615072565b90509250929050565b634e487b7160e01b600052602160045260246000fd5b600281106150ef57634e487b7160e01b600052602160045260246000fd5b9052565b6060810161510182866150d1565b602082019390935260400152919050565b60006020828403121561512457600080fd5b61251d82615072565b60c0810161513b82896150d1565b602082019690965260408101949094526001600160a01b03929092166060840152608083015260a090910152919050565b6000806040838503121561517f57600080fd5b614f3383614e91565b60006020828403121561519a57600080fd5b61251d82614ea0565b6040815260006151b66040830185614f41565b828103602084015261058a8185614f41565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000821982111561521d5761521d6151f4565b500190565b6000600019821415615236576152366151f4565b5060010190565b60008282101561524f5761524f6151f4565b500390565b60008261527157634e487b7160e01b600052601260045260246000fd5b500490565b6000816000190483118215151615615290576152906151f4565b500290565b600065ffffffffffff808316818114156152b1576152b16151f4565b6001019392505050565b634e487b7160e01b600052603160045260246000fd5b60208082526030908201527f4f7264657253746174697374696373547265652834313029202d204f7264657260408201526f103237b2b9903737ba1032bc34b9ba1760811b60608201526080019056fea26469706673582212200a89ae6bf468c14a9312d77ee4d6461bba17a320711bc437ac4ae809815f4deb64736f6c63430008090033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}